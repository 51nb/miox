webpackJsonp([1],Array(18).concat([function(e,t,r){"use strict";function n(e){return function(t,r,n){s.$decoratorQueue.push(function(t){return e(t,r,n)})}}function i(e,t){e.methods&&e.methods[t]&&delete e.methods[t]}function a(e,t){Object.getOwnPropertyNames(e).forEach(t),e.__proto__&&a(e.__proto__,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.lifeCycles=t.functionOwnProperties=t.toString=void 0,t.createDecorator=n,t.removeMethodFromComponent=i,t.getComponentProperties=a;var s=r(70);t.toString=Object.prototype.toString,t.functionOwnProperties=Object.getOwnPropertyNames(function(){}),t.lifeCycles=["beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated"]},,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(0),a=n(i),s=r(1),u=n(s),o=r(16),c=n(o),f=r(17),l=n(f),h=r(46),d=function(e){function t(){(0,a.default)(this,t);var e=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.variables={},e.maps=[],e}return(0,l.default)(t,e),(0,u.default)(t,[{key:"__defineDescriptor__",value:function(e){this.maps.indexOf(e)>-1||(this.maps.push(e),Object.defineProperty(this,e,{configurable:!0,get:function(){return this.get(e)},set:function(t){var r=this.variables[e];this.variables[e]=t,r!==t&&this.emit(e,t,r)}}))}},{key:"exists",value:function(e){return!!this.variables[e]}},{key:"each",value:function(e){for(var t in this.variables)e(t,this.variables[t])}},{key:"filter",value:function(e){var t={};for(var r in this.variables){e(r,this.variables[r])&&(t[r]=this.variables[r])}return t}},{key:"set",value:function(e,t){if(void 0!==e&&null!==e)return this.__defineDescriptor__(e),this[e]=t,t}},{key:"get",value:function(e){return this.variables[e]}},{key:"del",value:function(e){e="number"==typeof e?String(e):e;var t=this.maps.indexOf(e);t>-1&&(delete this[e],delete this.variables[e],this.maps.splice(t,1))}}]),t}(h.EventEmitter);t.default=d,e.exports=t.default},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return"function"==typeof e?(0,s.componentFactory)(e):function(t){return(0,s.componentFactory)(t,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.filter=t.watch=t.life=t.prop=t.getComponentProperties=t.removeMethodFromComponent=t.createDecorator=void 0;var a=r(18);Object.defineProperty(t,"createDecorator",{enumerable:!0,get:function(){return a.createDecorator}}),Object.defineProperty(t,"removeMethodFromComponent",{enumerable:!0,get:function(){return a.removeMethodFromComponent}}),Object.defineProperty(t,"getComponentProperties",{enumerable:!0,get:function(){return a.getComponentProperties}}),t.Component=i;var s=r(70),u=r(157),o=n(u),c=r(158),f=n(c),l=r(159),h=n(l),d=r(160),p=n(d);t.prop=o.default,t.life=f.default,t.watch=h.default,t.filter=p.default},,,,,,,function(e,t,r){"use strict";(function(e){function r(e){return"@MIOX:HISTORY:INDEX:"+e}function n(e){var t=[];for(var r in e)t.push(r+"="+e[r]);return t.sort().join("&")}function i(e,t){if(t)return e.pathname+e.search+e.hash;var r=e.hash?e.hash.replace(/^\#/,""):"/",n=e.search?e.search.replace(/^\?/,""):"",i=r.indexOf("?")>-1;return i&&n?r+"&"+n:!i&&n?r+"?"+n:r}function a(e,t){for(var r in t)void 0!==e[r]&&(t[r]=e[r]);for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function s(t){var r=e.location.href.indexOf("#");e.location.replace(e.location.href.slice(0,r>=0?r:0)+"#"+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.sessionIndexName=r,t.sortURI=n,t.getLocalURI=i,t.extend=a,t.replaceHash=s;t.sessionCurrentName="@MIOX:HISTORY:CURRENT",t.sessionIndexRegExp=/^\@MIOX\:HISTORY\:INDEX\:/,t.sessionCurrentRegExp=/^\@MIOX\:HISTORY\:CURRENT/}).call(t,r(8))},,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function s(e){return"number"==typeof e}function u(e){return"object"===(void 0===e?"undefined":(0,f.default)(e))&&null!==e}function o(e){return void 0===e}var c=r(22),f=n(c),l=r(2),h=n(l),d=r(5),p=n(d);e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(){var e=(0,p.default)(h.default.mark(function e(t){var r,n,i,s,c,f,l,d=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._events||(this._events={}),"error"!==t){e.next=12;break}if(this._events.error&&(!u(this._events.error)||this._events.error.length)){e.next=12;break}if(!(r=d[1])){e.next=12;break}if(!(r instanceof Error)){e.next=9;break}throw r;case 9:throw l=new Error('Uncaught, unspecified "error" event. ('+r+")"),l.context=r,l;case 12:if(n=this._events[t],!o(n)){e.next=15;break}return e.abrupt("return",!1);case 15:if(!a(n)){e.next=33;break}e.t0=d.length,e.next=1===e.t0?19:2===e.t0?22:3===e.t0?25:28;break;case 19:return e.next=21,n.call(this);case 21:return e.abrupt("break",31);case 22:return e.next=24,n.call(this,d[1]);case 24:return e.abrupt("break",31);case 25:return e.next=27,n.call(this,d[1],d[2]);case 27:return e.abrupt("break",31);case 28:return s=Array.prototype.slice.call(d,1),e.next=31,n.apply(this,s);case 31:e.next=44;break;case 33:if(!u(n)){e.next=44;break}s=Array.prototype.slice.call(d,1),f=n.slice(),i=f.length,c=0;case 38:if(!(c<i)){e.next=44;break}return e.next=41,f[c].apply(this,s);case 41:c++,e.next=38;break;case 44:return e.abrupt("return",!0);case 45:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),i.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var r,n,i,s;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(s=i;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],a(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";function n(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");for(var t in e){if("function"!=typeof e[t])throw new TypeError("Middleware must be composed of functions!")}return function(t,r){function n(a){if(a<=i)return Promise.reject(new Error("next() called multiple times"));i=a;var s=e[a]||r;if(!s)return Promise.resolve();try{return Promise.resolve(s(t,function(){return n(a+1)}))}catch(e){return Promise.reject(e)}}var i=-1;return n(0)}}e.exports=n},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(0),a=n(i),s=r(1),u=n(s),o=r(130),c=n(o),f=r(32),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";(0,a.default)(this,e),this.options="string"==typeof t?c.default.parse(t,!0):t,this.__defineMixinRequest__()}return(0,u.default)(e,[{key:"__defineMixinRequest__",value:function(){for(var e in this.options)"function"==typeof this.options[e]?this[e]=this.options[e].bind(this.options):this[e]=this.options[e];var t=(0,f.sortURI)(this.query||{});this.sortQuery=t,this.mark=this.pathname+(t?":"+t:"")}}]),e}();t.default=l,e.exports=t.default},,,function(e,t,r){"use strict";function n(e,r){void 0===r&&(r={}),r.name=r.name||e._componentTag||e.name||e.constructor.name||e.prototype.name||"VueComponent";var n=e.prototype,i=[],c={};Object.getOwnPropertyNames(e).forEach(function(t){-1===u.functionOwnProperties.indexOf(t)&&(c[t]=e[t])}),(0,u.getComponentProperties)(n,function(e){if(!("constructor"===e||/^[\$\_]/.test(e)||i.indexOf(e)>-1||u.lifeCycles.indexOf(e)>-1)){if(i.push(e),"render"===e)return void(r.render=n.render);if("template"===e)return void(r.template=n.template());var t=Object.getOwnPropertyDescriptor(n,e);t&&("function"==typeof t.value?(r.methods||(r.methods={}))[e]=t.value:(t.get||t.set)&&((r.computed||(r.computed={}))[e]={get:t.get,set:t.set}))}}),(r.mixins||(r.mixins=[])).push({data:function(){return(0,s.collectDataFromConstructor)(this,e)}}),o.forEach(function(e){return e(r)}),t.$decoratorQueue=o=[];var f=Object.getPrototypeOf(e.prototype),l=f instanceof a.default?f.constructor:a.default,h=l.extend(r);for(var d in c)try{h[d]=c[d]}catch(e){}return h}Object.defineProperty(t,"__esModule",{value:!0}),t.$decoratorQueue=void 0,t.componentFactory=n;var i=r(48),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=r(156),u=r(18),o=t.$decoratorQueue=[]},function(e,t,r){"use strict";(function(n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=i(a),u=r(5),o=i(u);r(100);var c=r(102),f=i(c),l=r(143),h=i(l),d=r(147),p=i(d),v=r(151),m=i(v),y=r(154),x=i(y),_=r(162),b=i(_),w=r(165),k=i(w),g=r(168),M=i(g),E=r(171),O=i(E),P=new m.default;P.patch("/",function(){var e=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render(x.default);case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),P.patch("/b",function(){var e=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.p){e.next=5;break}return e.next=3,t.render(O.default);case 3:e.next=7;break;case 5:return e.next=7,t.render(b.default);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),P.patch("/c",function(){var e=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render(k.default);case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),P.patch("/d",function(){var e=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render(M.default);case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),P.patch("/e",function(){var e=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render(O.default);case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}());var j=n.miox=new f.default({session:!0,max:2,debug:!0});j.set("engine",h.default),j.set("animate",(0,p.default)("slide")),j.use(P.routes()),t.default=j.listen(),e.exports=t.default}).call(t,r(8))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(103),a=n(i),s=r(23),u=n(s);a.default.Dictionary=u.default,t.default=a.default,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(2),a=n(i),s=r(5),u=n(s),o=r(0),c=n(o),f=r(1),l=n(f),h=r(16),d=n(h),p=r(17),v=n(p),m=r(125),y=n(m),x=r(23),_=n(x),b=r(67),w=n(b),k=r(136),g=n(k),M=r(139),E=n(M),O=r(141),P=n(O),j=r(142),C=n(j),S=r(32),I=Object.prototype.toString,A=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,t);var r=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.options=(0,S.extend)(e,{max:1,popState:!1,session:!1,strict:!0}),r.env="client",r.vars=new _.default,r.cache=new _.default,r.plugin=new P.default(r),r.installed=!1,r.err=null,r.doing=!1,r.clientMounted=!1,r.set("request",{}),r.set("response",{}),r.set("exists-webview",null),r.set("active-webview",null),r.vars.on("engine",r.plugin.Engine.bind(r.plugin)),r.vars.on("animate",r.plugin.Animate.bind(r.plugin)),r}return(0,v.default)(t,e),(0,l.default)(t,[{key:"set",value:function(){var e;return(e=this.vars).set.apply(e,arguments)}},{key:"get",value:function(){var e;return(e=this.vars).get.apply(e,arguments)}},{key:"del",value:function(){var e;return(e=this.vars).del.apply(e,arguments)}},{key:"exists",value:function(){var e;return(e=this.vars).exists.apply(e,arguments)}},{key:"filter",value:function(){var e;return(e=this.vars).filter.apply(e,arguments)}},{key:"push",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(){var t,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=this.history).push.apply(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"replace",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(){var t,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=this.history).replace.apply(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"go",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(){var t,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=this.history).go.apply(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"redirect",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(){var t,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=this.history).redirect.apply(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"exchange",value:function(){var e=this.get("active-webview");e&&(this.set("exists-webview",e),this.set("active-webview",null))}},{key:"notify",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.webView,"server"===this.env){e.next=7;break}if("client"!==this.env||this.installed){e.next=5;break}return e.next=5,this.emit("client:render:mount",r);case 5:return e.next=7,this.history.notify(t,r);case 7:r&&(this.installed=!0,this.exchange()),this.doing=!1;case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"error",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Error)){e.next=6;break}return this.err=t,e.next=4,this.emit(String(t.code),t);case 4:e.next=9;break;case 6:return this.err=null,e.next=9,this.emit("200",this.webView);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createServerProgress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){var r,n,i,s,u,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.doing){e.next=2;break}return e.abrupt("return");case 2:return this.doing=!0,r=void 0,n=void 0,this.set("request",t instanceof w.default?t:new w.default(t)),this.set("response",new g.default),this.request.app=this.response.app=this,this.history&&(n=this.history.processDirection(this.request)),e.next=10,this.emit("process:start");case 10:return this.index=n,e.prev=11,e.next=14,this.execute(this);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),r=e.t0;case 19:return delete this.index,r?r.code||(r.code=500):(i=this.get("active-webview"),i?(s=i.basic,u=i.mark,o=s.dic.get(u),o?this.exchange():(r=new Error("webview lost"),r.code=404)):(r=new Error("webview lost"),r.code=404)),e.next=23,this.error(r);case 23:return e.next=25,this.notify(n);case 25:return e.next=27,this.emit("process:end");case 27:case"end":return e.stop()}},e,this,[[11,16]])}));return e}()},{key:"render",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.response.render(this.plugin.get("engine"),t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"pathChange",value:function(){var e=this;this.history.on("pathchange",function(){var t=(0,u.default)(a.default.mark(function t(r){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createServerProgress(r);case 2:if(!e.err){t.next=7;break}return t.next=5,e.emit(String(e.err.code),e.err);case 5:t.next=9;break;case 7:return t.next=9,e.emit("200",e.webView);case 9:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"searchChange",value:function(){var e=this;this.history.on("searchchange",function(){var t=(0,u.default)(a.default.mark(function t(r,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.options.strict){t.next=12;break}return t.next=3,e.createServerProgress(r);case 3:if(!e.err){t.next=8;break}return t.next=6,e.emit(String(e.err.code),e.err);case 6:t.next=10;break;case 8:return t.next=10,e.emit("200",e.webView);case 10:t.next=19;break;case 12:if(!e.webView||"function"!=typeof e.webView.MioxInjectWebviewSearchChange){t.next=17;break}return t.next=15,e.webView.MioxInjectWebviewSearchChange(n,r);case 15:t.next=19;break;case 17:return t.next=19,e.emit("searchchange",n,r);case 19:case"end":return t.stop()}},t,e)}));return function(e,r){return t.apply(this,arguments)}}())}},{key:"hashChange",value:function(){var e=this;this.history.on("hashchange",function(){var t=(0,u.default)(a.default.mark(function t(r,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set("request",r instanceof w.default?r:new w.default(r)),e.set("response",new g.default),!e.webView||"function"!=typeof e.webView.MioxInjectWebviewHashChange){t.next=7;break}return t.next=5,e.webView.MioxInjectWebviewHashChange(n,r);case 5:t.next=9;break;case 7:return t.next=9,e.emit("hashchange",n,r);case 9:case"end":return t.stop()}},t,e)}));return function(e,r){return t.apply(this,arguments)}}())}},{key:"listen",value:function(){var e=this;if(!this.plugin.get("engine"))throw new Error("You have not set webview rendering engine, you must set it first.");this.emit("app:start"),(0,C.default)(this),this.__defineProcessHandle__();var t=void 0;switch("server"!==this.env&&(this.history=new E.default(this),t=this.history.listen(),this.pathChange(),this.searchChange(),this.hashChange()),this.env){case"server":return function(){var t=(0,u.default)(a.default.mark(function t(r){var n,i,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.url,i=r.app,s=r.ctx,e.$application=i,e.$context=s,t.next=5,e.createServerProgress(n);case 5:if(e.emit("app:end"),!e.err){t.next=10;break}return t.abrupt("return",e.err);case 10:return t.next=12,e.emit("server:render:polyfill",r);case 12:return t.abrupt("return",e.webView);case 13:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}();case"client":return this.emit("client:render:polyfill"),this.history.action="push",this.createServerProgress(this.history.location()).then(function(){e.history.clear(),e.clientMounted=!0,e.emit("app:end")}),t;case"web":return this.history.action="push",this.createServerProgress(this.history.location()).then(function(){e.history.clear(),e.emit("app:end")}),t}}},{key:"mock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("[object Object]"!==I.call(e))throw new Error("`args` must be an object which type of json.");return e.fetch=this.fetch.bind(this),e}},{key:"fetch",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,r=void 0,"function"==typeof n?t=r=n:(t=n.client,r=n.server),!(!this.clientMounted&&"client"===this.env||"server"===this.env&&this.clientMounted)){e.next=4;break}return e.abrupt("return");case 4:if(t&&r){e.next=6;break}throw new Error("client and server must be both function");case 6:if("client"!==this.env||!this.clientMounted){e.next=10;break}return e.next=9,t(this.reference);case 9:return e.abrupt("return",e.sent);case 10:if("server"!==this.env||this.clientMounted){e.next=14;break}return e.next=13,r(this.reference);case 13:return e.abrupt("return",e.sent);case 14:return e.next=16,t(this.reference);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"request",get:function(){return this.get("request")}},{key:"response",get:function(){return this.get("response")}},{key:"req",get:function(){return this.request}},{key:"res",get:function(){return this.response}},{key:"query",get:function(){return this.req.query||{}}},{key:"pathname",get:function(){return this.req.pathname||"/"}},{key:"url",get:function(){return this.req.href||"/"}},{key:"webView",get:function(){var e=this.get("exists-webview");if(e)return e.basic.dic.get(e.mark)}},{key:"reference",get:function(){return{fetch:this.fetch.bind(this),application:this.$application,service:this.$context,ctx:this}}}]),t}(y.default);t.default=A,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(2),a=n(i),s=r(5),u=n(s),o=r(22),c=n(o),f=r(0),l=n(f),h=r(1),d=n(h),p=r(16),v=n(p),m=r(17),y=n(m),x=r(46),_=r(47),b=n(_),w=r(126),k=n(w),g=r(128),M=n(g),E=r(129),O=n(E),P=function(e){function t(){(0,l.default)(this,t);var e=(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.middlewares=[],e}return(0,y.default)(t,e),(0,d.default)(t,[{key:"use",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t=(0,O.default)(t);for(var n=[],i=0;i<t.length;i++){var a=t[i];if("function"!=typeof a)throw new Error("middleware must be a function but got "+(void 0===a?"undefined":(0,c.default)(a)));(0,M.default)(a)&&(a=(0,k.default)(a)),n.push(a)}return this.middlewares.push.apply(this.middlewares,n),this}},{key:"__defineProcessHandle__",value:function(){this.__processer__=(0,b.default)(this.middlewares)}},{key:"execute",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__processer__(t||this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x.EventEmitter);t.default=P,e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(t,r){return o.call(t,e.call(t,i(r)))}if("function"!=typeof e)throw new TypeError("middleware must be a function");return"GeneratorFunction"!==e.constructor.name?e:(t._name=e._name||e.name,t)}function i(e){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},u,this)}var a=r(2),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=s.default.mark(i),o=r(127),c=r(47);e.exports=n,n.compose=function(e){return Array.isArray(e)||(e=Array.from(arguments)),c(e.map(n))},n.back=function(e){if("function"!=typeof e)throw new TypeError("middleware must be a function");if("GeneratorFunction"===e.constructor.name)return e;var t=s.default.mark(function t(r){var n,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,i=!1,t.next=4,Promise.resolve(e(n,function(){return i?Promise.reject(new Error("next() called multiple times")):(i=!0,o.call(n,r))}));case 4:case"end":return t.stop()}},t,this)});return t._name=e._name||e.name,t}},,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(2),a=n(i),s=r(5),u=n(s),o=r(0),c=n(o),f=r(1),l=n(f),h=r(137),d=n(h),p=r(23),v=n(p),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,e),this.options=t,this.__defineMixinResponse__()}return(0,l.default)(e,[{key:"__defineMixinResponse__",value:function(){for(var e in this.options)"function"==typeof this.options[e]?this[e]=this.options[e].bind(this.options):this[e]=this.options[e]}},{key:"render",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t,r){var n,i,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.app,r.dic||(r.dic=new v.default),"server"!==n.env){e.next=10;break}return i=n.options.strict?n.req.mark:n.req.pathname,e.next=6,t.create(r,u);case 6:return s=e.sent,n.cache.set(n.req.pathname,r),r.dic.set(i,s),e.abrupt("return",n.set("active-webview",{basic:r,mark:i}));case 10:return e.next=12,(0,d.default)(n,t,r,u);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.default=m,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){Object.defineProperty(e,t+"Element",{get:function(){if(this[t])return this[t].__MioxInjectElement__}})}function a(e,t){Array.isArray(t)||(t=[t]);for(var r=t.length,n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];for(;r--;){var s=t[r],u=e.history.stacks.indexOf(s);if(u>-1){var o;(o=e.history.stacks).splice.apply(o,[u,1].concat(i)),s.constructor.dic.del(s.__MioxMark__),s.MioxInjectDestroy()}}}function s(e,t){for(var r=e.history.stacks,n=r.slice(0,t),i=r.slice(t),a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];e.history.stacks=n.concat(s).concat(i)}function u(e,t){Object.defineProperty(t,"historyIndex",{get:function(){if(!e.history.session)return 0;var r=e.history.session.variables,n=e.options.strict;for(var i in r){if((n&&r[i].search?r[i].pathname+":"+r[i].search:r[i].pathname)===t.__MioxMark__)return Number(i)}}})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),c=n(o),f=r(5),l=n(f),h=function(){var e=(0,l.default)(c.default.mark(function e(t,r,n,i,a){var s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.create(n,i);case 2:return s=e.sent,s.__MioxMark__=a,n.dic.set(a,s),u(t,s),e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),d=r(138),p=n(d);t.default=function(){var e=(0,l.default)(c.default.mark(function e(t,r,n,u){var o,f,l,d,v,m,y,x,_,b,w,k,g,M,E,O;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.req.pathname,f=t.history.action,l=t.options.strict?t.req.mark:o,d=t.get("exists-webview"),v={existsWebView:d?d.basic.dic.get(d.mark):null,activeWebView:null},"replace"!==f||v.existsWebView){e.next=7;break}throw new Error("replace method need a existing webview");case 7:if(i(v,"existsWebView"),i(v,"activeWebView"),Object.defineProperty(v,"existWebViewIndex",{get:function(){return v.existsWebView?t.history.stacks.indexOf(v.existsWebView):-1}}),m=t.cache.get(o),y=void 0,x=void 0,_=void 0,b=n.dic.get(l),b){e.next=16;break}return e.next=15,h(t,r,n,u,l);case 15:b=e.sent;case 16:if(m&&(y=m.dic.get(l)),w=m&&m!==n&&y,t.cache.set(o,n),0!==t.history.stacks.length){e.next=24;break}t.history.stacks.push(b),t.tick=-1,e.next=41;break;case 24:e.t0=f,e.next="push"===e.t0?27:"replace"===e.t0?37:40;break;case 27:if(x=t.history.stacks.slice(v.existWebViewIndex+1),w&&x.push(y),a(t,x),!(x.indexOf(b)>-1)){e.next=34;break}return e.next=33,h(t,r,n,u,l);case 33:b=e.sent;case 34:return t.history.stacks.push(b),t.tick=-1,e.abrupt("break",41);case 37:return w&&a(t,y),a(t,v.existsWebView,b),e.abrupt("break",41);case 40:w?a(t,y,b):-1===t.history.stacks.indexOf(b)&&(k=t.history.session?t.history.session.current-(t.index||0):0,g=v.existWebViewIndex-k,g<0&&(g=0),g>=t.options.max&&(g=t.options.max-1),M=t.history.stacks[g],E=M.historyIndex,O=t.webView.historyIndex,t.history.direction<0?O-k<E?(t.tick=1,s(t,g,b)):O-k>E?(t.tick=-1,s(t,g+1,b)):a(t,M,b):t.history.direction>0?O-k<E?(t.tick=1,s(t,g,b)):O-k>E?(t.tick=-1,s(t,g+1,b)):a(t,M,b):(t.history.stacks.push(b),t.tick=-1));case 41:if(v.activeWebView=b,t.set("active-webview",{basic:n,mark:l}),v.activeWebViewElement){e.next=45;break}return e.abrupt("return",v.activeWebView);case 45:return e.next=47,(0,p.default)(t,v.existsWebViewElement,v.activeWebViewElement);case 47:if(!(t.history.stacks.length>t.options.max)){e.next=56;break}e.t1=t.tick,e.next=1===e.t1?51:-1===e.t1?53:55;break;case 51:return _=t.history.stacks[t.history.stacks.length-1],e.abrupt("break",55);case 53:return _=t.history.stacks[0],e.abrupt("break",55);case 55:a(t,_);case 56:return t.tick&&delete t.tick,e.abrupt("return",v.activeWebView);case 58:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,i){return e.apply(this,arguments)}}(),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=n(i),s=r(5),u=n(s);t.default=function(){function e(e,r,n){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t,r,n){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=t.plugin.get("animate"))&&t.installed&&t.history.session)){e.next=4;break}return e.next=4,Promise.all([i.leave(r),i.enter(n)]);case 4:r&&r.classList.remove("active"),n&&n.classList.add("active");case 6:case"end":return e.stop()}},e,this)}));return e}(),e.exports=t.default},function(e,t,r){"use strict";(function(n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(2),s=i(a),u=r(5),o=i(u),c=r(0),f=i(c),l=r(1),h=i(l),d=r(16),p=i(d),v=r(17),m=i(v),y=r(46),x=r(140),_=i(x),b=r(67),w=i(b),k=r(32),g=function(e){function t(e){(0,f.default)(this,t);var r=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.app=e,r.stacks=[],r.action=null,r.direction=0,r.title=n.document.title,r.popState=e.options.popState||"client"===e.env&&n.history&&"function"==typeof n.history.pushState,r.useSessionStorage&&(r.session=new _.default(e)),r}return(0,m.default)(t,e),(0,h.default)(t,[{key:"notify",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}return e.abrupt("return");case 2:if(this.app.installed){e.next=6;break}if(!this.session.current){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",this.session.actionPush());case 6:e.t0=this.action,e.next="push"===e.t0?9:"replace"===e.t0?12:14;break;case 9:return this.session.actionPush(),this.session.autoRemove(),e.abrupt("break",15);case 12:return this.session.actionReplace(),e.abrupt("break",15);case 14:t&&this.session.moveSession(t);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"clear",value:function(){this.action=null,this.direction=0}},{key:"processDirection",value:function(e){if(this.session)switch(this.action){case"push":this.direction=1;break;case"replace":break;default:var t=this.session.findSession(e.pathname,e.sortQuery);if(void 0===t)throw new Error("can not find this request of `"+e.href+"` in sessionStorage");return this.direction=this.session.current>t?-1:this.session.current===t?0:1,t}}},{key:"push",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.action="push",!this.popState){e.next=7;break}return n.history.pushState(null,this.title,t),e.next=5,this.change(this.request,new w.default(this.location()));case 5:e.next=8;break;case 7:n.location.hash=t;case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"replace",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.action="replace",!this.popState){e.next=7;break}return n.history.replaceState(null,this.title,t),e.next=5,this.change(this.request,new w.default(this.location()));case 5:e.next=8;break;case 7:(0,k.replaceHash)(t);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"go",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t){var r,i,a,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!=typeof t){e.next=5;break}if(0!==t){e.next=3;break}return e.abrupt("return");case 3:return this.session&&(this.direction=t>1?1:-1),e.abrupt("return",n.history.go(t));case 5:if(r=new w.default(t),i=r.pathname,a=r.sortQuery,!this.session){e.next=16;break}if(void 0!==(u=this.session.findSession(i,a))){e.next=12;break}return e.next=11,this.push(t);case 11:return e.abrupt("return",e.sent);case 12:if(this.session.current===u){e.next=14;break}return e.abrupt("return",this.go(u-this.session.current));case 14:e.next=18;break;case 16:return e.next=18,this.push(t);case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"redirect",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("server"!==this.app.env){e.next=7;break}throw r=new Error("302 Redirect"),r.code=302,r.url=t,r;case 7:return this.cache=!1,e.next=10,this.push(t);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"location",value:function(){return(0,k.getLocalURI)(n.location,this.popState)}},{key:"compare",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t,r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pathname===r.pathname){e.next=4;break}return e.next=3,this.emit("pathchange",r,t);case 3:return e.abrupt("return",e.sent);case 4:if(t.mark===r.mark){e.next=8;break}return e.next=7,this.emit("searchchange",r,t);case 7:return e.abrupt("return",e.sent);case 8:if(t.hash===r.hash){e.next=12;break}return e.next=11,this.emit("hashchange",r,t);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"change",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t,r){var n=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compare(t,r).then(function(){return n.clear()});case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"listen",value:function(){var e=this,t=function(){return e.change(e.request,new w.default(e.location()))};return n.addEventListener(this.popState?"popstate":"hashchange",t),function(){n.removeEventListener(e.popState?"popstate":"hashchange",t)}}},{key:"useSessionStorage",get:function(){return!!this.app.plugin.get("animate")&&this.app.options.session}},{key:"request",get:function(){return this.app.request}}]),t}(y.EventEmitter);t.default=g,e.exports=t.default}).call(t,r(8))},function(e,t,r){"use strict";(function(n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(0),s=i(a),u=r(1),o=i(u),c=r(16),f=i(c),l=r(17),h=i(l),d=r(23),p=i(d),v=r(32),m=function(e){function t(e){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.app=e,r.current=0,r.historyListRegExp=v.sessionIndexRegExp,r.historyCurrentRegExp=v.sessionCurrentRegExp,r.init(),r}return(0,h.default)(t,e),(0,o.default)(t,[{key:"init",value:function(){for(var e=n.sessionStorage,t=e.length;t--;){var r=e.key(t),i=void 0;if(this.historyListRegExp.test(r)){try{i=JSON.parse(e.getItem(r))}catch(e){continue}this.set(r.replace(this.historyListRegExp,""),i)}else this.historyCurrentRegExp.test(r)&&(this.current=Number(e.getItem(r)))}}},{key:"setSession",value:function(e,t,r){var i=(0,v.sessionIndexName)(e);this.set(e,{pathname:t,search:r}),n.sessionStorage.setItem(i,JSON.stringify({pathname:t,search:r}))}},{key:"delSession",value:function(e){var t=(0,v.sessionIndexName)(e);this.del(e),n.sessionStorage.removeItem(t)}},{key:"moveSession",value:function(e){this.get(e)&&(this.current=e,n.sessionStorage.setItem(v.sessionCurrentName,e))}},{key:"findSession",value:function(e,t){for(var r=Object.keys(this.variables).sort().map(function(e){return Number(e)}),n=r.length;n--;){var i=r[n],a=this.get(i);if(a){var s=a.pathname,u=a.search;if(s===e&&u===t)return i}}}},{key:"actionPush",value:function(){var e=n.history.length;this.setSession(e,this.app.req.pathname,this.app.req.sortQuery),this.moveSession(e)}},{key:"actionReplace",value:function(){this.setSession(this.current,this.app.req.pathname,this.app.req.sortQuery)}},{key:"autoRemove",value:function(e){var t=this,r=e||n.history.length;this.each(function(e){(e=Number(e))>r&&t.delSession(e)})}}]),t}(p.default);t.default=m,e.exports=t.default}).call(t,r(8))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(0),a=n(i),s=r(1),u=n(s),o=r(16),c=n(o),f=r(17),l=n(f),h=r(23),d=n(h),p=r(69),v=n(p),m=function(e){function t(e){(0,a.default)(this,t);var r=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.context=e,r}return(0,l.default)(t,e),(0,u.default)(t,[{key:"Engine",value:function(e){if("function"!=typeof e&&!(0,v.default)(e))throw new Error("Engine must be a function or a class");var t=new e(this.context);"function"==typeof t.install&&t.install(),this.set("engine",t)}},{key:"Animate",value:function(e){var t=e(this.context);this.set("animate",t)}}]),t}(d.default);t.default=m,e.exports=t.default},function(e,t,r){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;switch(Object.defineProperty(e,"element",{get:function(){return t}}),e.env){case"server":return function(e){return'<div class="mx-app"><div class="mx-webviews">'+e+"</div></div>"};case"client":t=r.document.body.querySelector(".mx-webviews");break;default:var n=r.document.body,i=r.document.createElement("div");t=r.document.createElement("div"),n.appendChild(i),i.appendChild(t),i.classList.add("mx-app"),t.classList.add("mx-webviews")}},e.exports=t.default}).call(t,r(8))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(144),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";(function(n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(2),s=i(a),u=r(5),o=i(u),c=r(0),f=i(c),l=r(1),h=i(l),d=r(69),p=i(d),v=r(145),m=i(v),y=r(48),x=i(y),_=r(146),b=i(_),w=function(){function e(t){(0,f.default)(this,e),this.ctx=t,t.on("app:end",function(){if("server"!==t.env)for(var e=t.element.querySelectorAll("script"),r=e.length;r--;){var n=e[r];n&&n.parentNode&&n.parentNode.removeChild(n)}}),t.on("server:render:polyfill",function(e){var r=t.get("vuex");r&&(e.state=r.state)}),t.on("client:render:polyfill",function(){var e=t.get("vuex");n.__INITIAL_STATE__&&e&&e.replaceState(n.__INITIAL_STATE__)}),t.on("client:render:mount",function(e){if(!t.element)throw new Error("miss ctx.element");if(!e)throw new Error("miss view module");var r=t.element.querySelector("[data-server-rendered=true]");if(!r)throw new Error("miss data-server-rendered element");e.$mount(r)})}return(0,h.default)(e,[{key:"create",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,o.default)(s.default.mark(function e(t,r){var n=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.default)(t)||"function"==typeof t){e.next=2;break}throw new Error("`webview` argument is not a class object.");case 2:return e.next=4,new Promise(function(e,i){try{var a={};switch(n.ctx.env){case"web":a.el=n.createWebViewRoot();break;case"client":n.ctx.installed&&(a.el=n.createWebViewRoot())}a.propsData=r||{},a.extends=m.default,new t(a).$on("webview:created",function(){e(this)})}catch(e){i(e)}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"install",value:function(){x.default.prototype.$miox=this.ctx,(0,b.default)(this.ctx)}},{key:"createWebViewRoot",value:function(){if(n.document){var e=n.document.createElement("div"),t=n.document.createElement("div");return this.ctx.element.appendChild(e),e.appendChild(t),e.classList.add("mx-webview"),t}}}]),e}();t.default=w,e.exports=t.default}).call(t,r(8))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=n(i),s=r(5),u=n(s);t.default={created:function(){var e=this;this.$nextTick(function(){return e.$emit("webview:created")})},mounted:function(){var e=this;this.__MioxInjectElement__=this.$el.parentNode,this.$nextTick(function(){e.$emit("webview:mounted"),e.$miox.emit("webview:mounted",e)})},destroyed:function(){this.__MioxInjectElement__&&this.__MioxInjectElement__.parentNode&&this.__MioxInjectElement__.parentNode.removeChild(this.__MioxInjectElement__),this.$miox.emit("webview:destroyed",this)},methods:{MioxInjectDestroy:function(){this.$destroy()},MioxInjectWebviewActive:function(){this.$emit("webview:active"),this.$miox.emit("webview:active",this)},MioxInjectWebviewUnActive:function(){this.$emit("webview:unActive"),this.$miox.emit("webview:unActive",this)},MioxInjectWebviewSearchChange:function(e,t){var r=this;return(0,u.default)(a.default.mark(function n(){return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r.$emit("webview:searchchange",e,t);case 1:case"end":return n.stop()}},n,r)}))()},MioxInjectWebviewHashChange:function(e,t){var r=this;return(0,u.default)(a.default.mark(function n(){return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r.$emit("webview:hashchange",e,t);case 1:case"end":return n.stop()}},n,r)}))()}}},e.exports=t.default},function(e,t,r){"use strict";function n(e,t){var r={};return r.bind=function(r,n){r.addEventListener("click",n.__redirectInjector__=function(){var r=n.modifiers||{},i={};n.realValue=n.value,e.history.url!==n.realValue&&(r.argument&&(i.animate=r.argument),r.alone&&(i.cache=!1),"function"==typeof e[t]&&e[t](n.realValue,i))})},r.unbind=function(e,t){t.__redirectInjector__&&e.removeEventListener("click",t.__redirectInjector__)},r.componentUpdated=function(e,t){t.realValue=t.value},r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){s.forEach(function(t){"function"==typeof e[t]&&(a.default.prototype["$"+t]=function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e[t].apply(e,n)},a.default.directive(t,n(e,t)))})};var i=r(48),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=["push","go","replace","redirect"];e.exports=t.default},function(e,t,r){"use strict";function n(e){return function(t){return new a.default(t,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,r(148);var i=r(149),a=function(e){return e&&e.__esModule?e:{default:e}}(i);n.hashChange=function(){return function(e){e.set("hashchange",function(t){var r=t.__MioxInjectElement__,n=e.history.uri.hash,i=r.querySelector(n);r.scrollTop=i.offsetTop})}},e.exports=t.default},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(2),a=n(i),s=r(5),u=n(s),o=r(0),c=n(o),f=r(1),l=n(f),h=r(150),d=n(h),p=["slide","push"],v={0:"direction-none","-1":"direction-backward",1:"direction-forward"},m={push:300,slide:300},y=function(){function e(t,r){(0,c.default)(this,e),this.app=t,this.animateName=r||"push",this.time=m[this.animateName]||300}return(0,l.default)(e,[{key:"leave",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=this.animateName,n=v[this.app.history.direction],t.classList.add("page-"+r+"-out"),t.classList.add(n),e.next=8,this.animated(t);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"enter",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=this.animateName,n=v[this.app.history.direction],t.classList.add("page-"+r+"-in"),t.classList.add(n),e.next=8,this.animated(t);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"animated",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.default)(t,this.time,"animate");case 2:this.clearAnimationClass(t);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"clearAnimationClass",value:function(e){Object.keys(v).forEach(function(t){e.classList.remove(v[t])}),p.forEach(function(t){e.classList.remove("page-"+t+"-in"),e.classList.remove("page-"+t+"-out")})}}]),e}();t.default=y,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;t=!e||"transition"!==e&&"trans"!==e?{OAnimation:"oAnimationEnd",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",animation:"animationend"}:{OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};var r=document.createElement("fake");return Object.keys(t).reduce(function(e,n){return void 0!==r.style[n]?t[n]:e},"")}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=n(a),u=r(5),o=n(u);t.default=function(){var e=(0,o.default)(s.default.mark(function e(t,r,n,a){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){function s(r){(f||r.target===t)&&(c=!0,t.removeEventListener(u,s),e())}var u=i(n),o=void 0!==a?a:100,c=!1,f=!1;t.addEventListener(u,s),setTimeout(function(){c?e():(f=!0,s())},r+o)});case 2:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,i){return e.apply(this,arguments)}}(),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(0),a=n(i),s=r(1),u=n(s),o=r(47),c=n(o),f=r(152),l=n(f),h=r(49),d=n(h),p=r(153),v=n(p),m=["patch"],y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,a.default)(this,e),!(this instanceof e))return new e(t);this.opts=t,this.methods=this.opts.methods||m.map(function(e){return e.toUpperCase()}),this.params={},this.stack=[]}return(0,u.default)(e,[{key:"patch",value:function(e,t){var r=void 0;return"string"==typeof t||t instanceof RegExp?r=Array.prototype.slice.call(arguments,2):(r=Array.prototype.slice.call(arguments,1),t=e,e=null),this.register(t,["patch"],r,{name:e}),this}},{key:"use",value:function(){var e=this,t=Array.prototype.slice.call(arguments),r="(.*)";return Array.isArray(t[0])&&"string"==typeof t[0][0]?(t[0].forEach(function(r){e.use.apply(e,[r].concat(t.slice(1)))}),this):("string"==typeof t[0]&&(r=t.shift()),t.forEach(function(t){t.router?(t.router.stack.forEach(function(t){r&&t.setPrefix(r),e.opts.prefix&&t.setPrefix(e.opts.prefix),e.stack.push(t)}),e.params&&Object.keys(e.params).forEach(function(r){t.router.param(r,e.params[r])})):e.register(r,[],t,{end:!1})}),this)}},{key:"prefix",value:function(e){return e=e.replace(/\/$/,""),this.opts.prefix=e,this.stack.forEach(function(t){t.setPrefix(e)}),this}},{key:"routes",value:function(){var e=this,t=function(t,r){var n=e.opts.routerPath||t.routerPath||t.req.pathname,i=e.match(n,t.method),a=void 0;return t.matched?t.matched.push.apply(t.matched,i.path):t.matched=i.path,i.route?(a=i.pathAndMethod.reduce(function(e,t){return e.push(function(e,r){return e.captures=t.captures(n,e.captures),e.params=t.params(n,e.captures,e.params),r()}),e.concat(t.stack)},[]),(0,c.default)(a)(t,r)):r()};return t.router=this,t}},{key:"all",value:function(e,t,r){var r;return"string"==typeof t?r=Array.prototype.slice.call(arguments,2):(r=Array.prototype.slice.call(arguments,1),t=e,e=null),this.register(t,m,r,{name:e}),this}},{key:"register",value:function(e,t,r,n){n=n||{};var i=this,a=this.stack;if(Array.isArray(e))return e.forEach(function(e){i.register.call(i,e,t,r,n)}),this;var s=new l.default(e,t,r,{end:!1!==n.end||n.end,name:n.name,sensitive:n.sensitive||this.opts.sensitive||!1,strict:n.strict||this.opts.strict||!1,prefix:n.prefix||this.opts.prefix||""});return this.opts.prefix&&s.setPrefix(this.opts.prefix),Object.keys(this.params).forEach(function(e){s.param(e,this.params[e])},this),a.push(s),s}},{key:"route",value:function(e){for(var t=this.stack,r=t.length,n=0;n<r;n++)if(t[n].name&&t[n].name===e)return t[n];return!1}},{key:"url",value:function(e,t){var r=this.route(e);if(r){var n=Array.prototype.slice.call(arguments,1);return r.url.apply(r,n)}return new Error("No route found for name: "+e)}},{key:"match",value:function(e,t){for(var r,n=this.stack,i={path:[],pathAndMethod:[],route:!1},a=n.length,s=0;s<a;s++)r=n[s],r.match(e)&&(i.path.push(r),0!==r.methods.length&&~r.methods.indexOf(t)||(i.pathAndMethod.push(r),r.methods.length&&(i.route=!0)));return i}},{key:"param",value:function(e,t){return this.params[e]=t,this.stack.forEach(function(r){r.param(e,t)}),this}}],[{key:"url",value:function(e,t){return l.default.prototype.url.call({path:e},t)}},{key:"compile",value:function(e){return d.default.compile(e)}},{key:"parse",value:function(e){return d.default.parse(e)}},{key:"uri",value:function(){return new v.default}}]),e}();t.default=y,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return decodeURIComponent(e)}catch(t){return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(22),s=n(a),u=r(0),o=n(u),c=r(1),f=n(c),l=r(49),h=n(l),d=function(){function e(t,r,n,i){(0,o.default)(this,e),this.opts=i||{},this.name=this.opts.name||null,this.methods=[],this.paramNames=[],this.stack=Array.isArray(n)?n:[n],r.forEach(function(e){var t=this.methods.push(e.toUpperCase());"GET"===this.methods[t-1]&&this.methods.unshift("HEAD")},this),this.stack.forEach(function(e){var n=void 0===e?"undefined":(0,s.default)(e);if("function"!==n)throw new Error(r.toString()+" `"+(this.opts.name||t)+"`: `middleware` must be a function, not `"+n+"`")},this),this.path=t,this.regexp=(0,h.default)(t,this.paramNames,this.opts)}return(0,f.default)(e,[{key:"match",value:function(e){return this.regexp.test(e)}},{key:"params",value:function(e,t,r){for(var n=r||{},a=t.length,s=0;s<a;s++)if(this.paramNames[s]){var u=t[s];n[this.paramNames[s].name]=u?i(u):u}return n}},{key:"captures",value:function(e){return e.match(this.regexp).slice(1)}},{key:"url",value:function(e){var t=e,r=this.path,n=h.default.compile(r);if("object"!=(void 0===e?"undefined":(0,s.default)(e))&&(t=Array.prototype.slice.call(arguments)),t instanceof Array){for(var i=h.default.parse(r),a={},u=i.length,o=0,c=0;o<u;o++)i[o].name&&(a[i[o].name]=t[c++]);return n(a)}return n(e)}},{key:"param",value:function(e,t){var r=this.stack,n=this.paramNames,i=function(r,n){return t.call(this,r.params[e],r,n)};return i.param=e,n.forEach(function(t,a){var s=n[a-1];e===t.name&&(s?r.some(function(e,t){if(e.param===s.name)return r.splice(t,0,i)})||r.some(function(e,t){if(!e.param)return r.splice(t,0,i)}):r.unshift(i))}),this}},{key:"setPrefix",value:function(e){return this.path&&(this.path=e+this.path,this.paramNames=[],this.regexp=(0,h.default)(this.path,this.paramNames,this.opts)),this}}]),e}();t.default=d,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(0),a=n(i),s=r(1),u=n(s),o=r(49),c=n(o),f=r(68),l=n(f),h=function(){function e(){(0,a.default)(this,e),this.domains={},this.setters={},this.watcher={}}return(0,u.default)(e,[{key:"compile",value:function(e){return c.default.compile(e)}},{key:"format",value:function(e){var t=e.split(":");return{domain:t[0],name:t[1]}}},{key:"watch",value:function(e,t){if("function"!=typeof t)throw new Error("watcher must be a function.");this.watcher[e]=t}},{key:"domain",value:function(e,t){var r=this;return t?(this.domains[e]=t.replace(/\/$/,""),{watch:function(t){r.watch(e,t)}}):this.domains[e]}},{key:"path",value:function(e,t){if(!t||"string"!=typeof t){var r=this.format(e),n=r.domain,i=r.name;if(void 0===this.domains[n]||void 0===this.setters[i])throw new Error("no such marked sign");var a=this.setters[i](t||{});this.watcher[n]&&(a=this.watcher[n](a));var s=this.domains[n].replace(/^\/\//,"/")+a,u=new String(s);return u.parse=function(e){var t=l.default.encode(e);return t&&(s+="?"+t),s},u}this.setters[e]=this.compile(t)}}]),e}();t.default=h,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(155),i=r.n(n),a=r(161),s=r(24),u=s(i.a,a.a,null,null,null);t.default=u.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,s=r(0),u=n(s),o=r(1),c=n(o),f=r(25),l=(i=(0,f.Component)({name:"A"}))(a=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,[{key:"go",value:function(){this.$miox.push("/b")}}]),e}())||a;t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){t.prototype._init=function(){var t=this;Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,e[r]}})})};var r=new t,n={};return Object.keys(r).forEach(function(e){void 0!==r[e]&&(n[e]=r[e])}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.collectDataFromConstructor=n},function(e,t,r){"use strict";function n(e,t,r){return void 0!==r?(0,i.createDecorator)(function(e){if(e.props||(e.props={}),"function"==typeof r.value){var n={},a=r.value(n);a&&(n=a),e.props[t]=n,(0,i.removeMethodFromComponent)(e,t)}})():(0,i.createDecorator)(function(t,r,n){if(t.props||(t.props={}),n&&"function"==typeof n.value){var a={},s=n.value(a);s&&(a=s),e&&(a.type=e),t.props[r]=a}else t.props[r]=e;(0,i.removeMethodFromComponent)(t,r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(18);e.exports=t.default},function(e,t,r){"use strict";function n(e,t,r){if(void 0!==r)return(0,i.createDecorator)(function(e){if(-1===i.lifeCycles.indexOf(t))throw new Error("错误的生命周期函数",t);if(e[t]){var n=e[t];e[t]=function(){n.call(this),r.value.call(this)}}else e[t]=r.value;(0,i.removeMethodFromComponent)(e,t)})();if("string"==typeof e&&-1===i.lifeCycles.indexOf(e))throw new Error("错误的生命周期函数",e);return(0,i.createDecorator)(function(t,r,n){var a=e||r;if(t[a]){var s=t[a];t[a]=function(){s.call(this),n.value.call(this)}}else t[a]=n.value;(0,i.removeMethodFromComponent)(t,a)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(18);e.exports=t.default},function(e,t,r){"use strict";function n(e,t,r){return void 0!==r?(0,i.createDecorator)(function(e){e.watch||(e.watch={}),"function"==typeof r.value&&(e.watch[t]=r.value,(0,i.removeMethodFromComponent)(e,t))})():(0,i.createDecorator)(function(t,r,n){t.watch||(t.watch={});var a=e||r;n&&"function"==typeof n.value&&(t.watch[a]=n.value,(0,i.removeMethodFromComponent)(t,a))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(18);e.exports=t.default},function(e,t,r){"use strict";function n(e,t,r){return void 0!==r?(0,i.createDecorator)(function(e){e.filters||(e.filters={}),"function"==typeof r.value&&(e.filters[t]=r.value,(0,i.removeMethodFromComponent)(e,t))})():(0,i.createDecorator)(function(t,r,n){t.filters||(t.filters={});var a=e||r;n&&"function"==typeof n.value&&(t.filters[a]=n.value,(0,i.removeMethodFromComponent)(t,a))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(18);e.exports=t.default},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"A"},[r("p",{staticStyle:{color:"#000"},on:{click:e.go}},[e._v("A Page")])])},i=[],a={render:n,staticRenderFns:i};t.a=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(163),i=r.n(n),a=r(164),s=r(24),u=s(i.a,a.a,null,null,null);t.default=u.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,s=r(0),u=n(s),o=r(1),c=n(o),f=r(25),l=(i=(0,f.Component)({name:"B"}))(a=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,[{key:"go",value:function(){this.$miox.push("/c")}}]),e}())||a;t.default=l,e.exports=t.default},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"B"},[r("p",{staticStyle:{color:"#000"},on:{click:e.go}},[e._v("B Page")])])},i=[],a={render:n,staticRenderFns:i};t.a=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(166),i=r.n(n),a=r(167),s=r(24),u=s(i.a,a.a,null,null,null);t.default=u.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,s=r(0),u=n(s),o=r(1),c=n(o),f=r(25),l=(i=(0,f.Component)({name:"C"}))(a=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,[{key:"go",value:function(){this.$miox.push("/d")}}]),e}())||a;t.default=l,e.exports=t.default},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"C"},[r("p",{staticStyle:{color:"#000"},on:{click:e.go}},[e._v("C Page")])])},i=[],a={render:n,staticRenderFns:i};t.a=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(169),i=r.n(n),a=r(170),s=r(24),u=s(i.a,a.a,null,null,null);t.default=u.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,s=r(0),u=n(s),o=r(1),c=n(o),f=r(25),l=(i=(0,f.Component)({name:"D"}))(a=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,[{key:"go",value:function(){this.$miox.push("/e")}}]),e}())||a;t.default=l,e.exports=t.default},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"D"},[r("p",{staticStyle:{color:"#000"},on:{click:e.go}},[e._v("D Page")])])},i=[],a={render:n,staticRenderFns:i};t.a=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(172),i=r.n(n),a=r(173),s=r(24),u=s(i.a,a.a,null,null,null);t.default=u.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,a=r(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=r(25),o=(n=(0,u.Component)({name:"E"}))(i=function e(){(0,s.default)(this,e)})||i;t.default=o,e.exports=t.default},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"E"},[r("p",{staticStyle:{color:"#000"}},[e._v("E Page")])])}],a={render:n,staticRenderFns:i};t.a=a}]),[71]);