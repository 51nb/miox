/**
 * Created by evio on 16/7/21.
 */
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var cov_23hmlfyn73 = function () {
    var path = '/Users/shenyunjie/CodeBox/miox/src/miox-router/src/index.js',
        hash = 'd3da704e9b5ad7e205702f95be30613406bdc12f',
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: '/Users/shenyunjie/CodeBox/miox/src/miox-router/src/index.js',
        statementMap: {
            '0': {
                start: {
                    line: 10,
                    column: 16
                },
                end: {
                    line: 10,
                    column: 25
                }
            },
            '1': {
                start: {
                    line: 14,
                    column: 8
                },
                end: {
                    line: 14,
                    column: 25
                }
            },
            '2': {
                start: {
                    line: 15,
                    column: 8
                },
                end: {
                    line: 15,
                    column: 78
                }
            },
            '3': {
                start: {
                    line: 15,
                    column: 61
                },
                end: {
                    line: 15,
                    column: 76
                }
            },
            '4': {
                start: {
                    line: 16,
                    column: 8
                },
                end: {
                    line: 16,
                    column: 25
                }
            },
            '5': {
                start: {
                    line: 17,
                    column: 8
                },
                end: {
                    line: 17,
                    column: 24
                }
            },
            '6': {
                start: {
                    line: 23,
                    column: 8
                },
                end: {
                    line: 29,
                    column: 9
                }
            },
            '7': {
                start: {
                    line: 24,
                    column: 12
                },
                end: {
                    line: 24,
                    column: 66
                }
            },
            '8': {
                start: {
                    line: 26,
                    column: 12
                },
                end: {
                    line: 26,
                    column: 66
                }
            },
            '9': {
                start: {
                    line: 27,
                    column: 12
                },
                end: {
                    line: 27,
                    column: 24
                }
            },
            '10': {
                start: {
                    line: 28,
                    column: 12
                },
                end: {
                    line: 28,
                    column: 24
                }
            },
            '11': {
                start: {
                    line: 31,
                    column: 8
                },
                end: {
                    line: 31,
                    column: 65
                }
            },
            '12': {
                start: {
                    line: 33,
                    column: 8
                },
                end: {
                    line: 33,
                    column: 20
                }
            },
            '13': {
                start: {
                    line: 37,
                    column: 21
                },
                end: {
                    line: 37,
                    column: 25
                }
            },
            '14': {
                start: {
                    line: 38,
                    column: 25
                },
                end: {
                    line: 38,
                    column: 62
                }
            },
            '15': {
                start: {
                    line: 39,
                    column: 19
                },
                end: {
                    line: 39,
                    column: 25
                }
            },
            '16': {
                start: {
                    line: 42,
                    column: 8
                },
                end: {
                    line: 48,
                    column: 9
                }
            },
            '17': {
                start: {
                    line: 43,
                    column: 12
                },
                end: {
                    line: 45,
                    column: 15
                }
            },
            '18': {
                start: {
                    line: 44,
                    column: 16
                },
                end: {
                    line: 44,
                    column: 74
                }
            },
            '19': {
                start: {
                    line: 47,
                    column: 12
                },
                end: {
                    line: 47,
                    column: 24
                }
            },
            '20': {
                start: {
                    line: 50,
                    column: 8
                },
                end: {
                    line: 52,
                    column: 9
                }
            },
            '21': {
                start: {
                    line: 51,
                    column: 12
                },
                end: {
                    line: 51,
                    column: 38
                }
            },
            '22': {
                start: {
                    line: 55,
                    column: 8
                },
                end: {
                    line: 73,
                    column: 11
                }
            },
            '23': {
                start: {
                    line: 56,
                    column: 12
                },
                end: {
                    line: 70,
                    column: 13
                }
            },
            '24': {
                start: {
                    line: 57,
                    column: 16
                },
                end: {
                    line: 61,
                    column: 19
                }
            },
            '25': {
                start: {
                    line: 58,
                    column: 20
                },
                end: {
                    line: 58,
                    column: 52
                }
            },
            '26': {
                start: {
                    line: 58,
                    column: 30
                },
                end: {
                    line: 58,
                    column: 52
                }
            },
            '27': {
                start: {
                    line: 59,
                    column: 20
                },
                end: {
                    line: 59,
                    column: 80
                }
            },
            '28': {
                start: {
                    line: 59,
                    column: 44
                },
                end: {
                    line: 59,
                    column: 80
                }
            },
            '29': {
                start: {
                    line: 60,
                    column: 20
                },
                end: {
                    line: 60,
                    column: 45
                }
            },
            '30': {
                start: {
                    line: 63,
                    column: 16
                },
                end: {
                    line: 67,
                    column: 17
                }
            },
            '31': {
                start: {
                    line: 64,
                    column: 20
                },
                end: {
                    line: 66,
                    column: 23
                }
            },
            '32': {
                start: {
                    line: 65,
                    column: 24
                },
                end: {
                    line: 65,
                    column: 65
                }
            },
            '33': {
                start: {
                    line: 69,
                    column: 16
                },
                end: {
                    line: 69,
                    column: 29
                }
            },
            '34': {
                start: {
                    line: 72,
                    column: 12
                },
                end: {
                    line: 72,
                    column: 24
                }
            },
            '35': {
                start: {
                    line: 75,
                    column: 8
                },
                end: {
                    line: 80,
                    column: 9
                }
            },
            '36': {
                start: {
                    line: 76,
                    column: 12
                },
                end: {
                    line: 79,
                    column: 15
                }
            },
            '37': {
                start: {
                    line: 81,
                    column: 8
                },
                end: {
                    line: 81,
                    column: 20
                }
            },
            '38': {
                start: {
                    line: 85,
                    column: 8
                },
                end: {
                    line: 85,
                    column: 43
                }
            },
            '39': {
                start: {
                    line: 87,
                    column: 8
                },
                end: {
                    line: 87,
                    column: 34
                }
            },
            '40': {
                start: {
                    line: 89,
                    column: 8
                },
                end: {
                    line: 91,
                    column: 11
                }
            },
            '41': {
                start: {
                    line: 90,
                    column: 12
                },
                end: {
                    line: 90,
                    column: 36
                }
            },
            '42': {
                start: {
                    line: 93,
                    column: 8
                },
                end: {
                    line: 93,
                    column: 20
                }
            },
            '43': {
                start: {
                    line: 97,
                    column: 21
                },
                end: {
                    line: 97,
                    column: 25
                }
            },
            '44': {
                start: {
                    line: 98,
                    column: 23
                },
                end: {
                    line: 121,
                    column: 9
                }
            },
            '45': {
                start: {
                    line: 99,
                    column: 23
                },
                end: {
                    line: 99,
                    column: 83
                }
            },
            '46': {
                start: {
                    line: 100,
                    column: 26
                },
                end: {
                    line: 100,
                    column: 56
                }
            },
            '47': {
                start: {
                    line: 103,
                    column: 12
                },
                end: {
                    line: 107,
                    column: 13
                }
            },
            '48': {
                start: {
                    line: 104,
                    column: 16
                },
                end: {
                    line: 104,
                    column: 66
                }
            },
            '49': {
                start: {
                    line: 106,
                    column: 16
                },
                end: {
                    line: 106,
                    column: 43
                }
            },
            '50': {
                start: {
                    line: 109,
                    column: 12
                },
                end: {
                    line: 109,
                    column: 46
                }
            },
            '51': {
                start: {
                    line: 109,
                    column: 32
                },
                end: {
                    line: 109,
                    column: 46
                }
            },
            '52': {
                start: {
                    line: 111,
                    column: 12
                },
                end: {
                    line: 118,
                    column: 19
                }
            },
            '53': {
                start: {
                    line: 112,
                    column: 16
                },
                end: {
                    line: 116,
                    column: 19
                }
            },
            '54': {
                start: {
                    line: 113,
                    column: 20
                },
                end: {
                    line: 113,
                    column: 70
                }
            },
            '55': {
                start: {
                    line: 114,
                    column: 20
                },
                end: {
                    line: 114,
                    column: 78
                }
            },
            '56': {
                start: {
                    line: 115,
                    column: 20
                },
                end: {
                    line: 115,
                    column: 34
                }
            },
            '57': {
                start: {
                    line: 117,
                    column: 16
                },
                end: {
                    line: 117,
                    column: 48
                }
            },
            '58': {
                start: {
                    line: 120,
                    column: 12
                },
                end: {
                    line: 120,
                    column: 50
                }
            },
            '59': {
                start: {
                    line: 123,
                    column: 8
                },
                end: {
                    line: 123,
                    column: 31
                }
            },
            '60': {
                start: {
                    line: 125,
                    column: 8
                },
                end: {
                    line: 125,
                    column: 24
                }
            },
            '61': {
                start: {
                    line: 129,
                    column: 8
                },
                end: {
                    line: 129,
                    column: 26
                }
            },
            '62': {
                start: {
                    line: 131,
                    column: 21
                },
                end: {
                    line: 131,
                    column: 25
                }
            },
            '63': {
                start: {
                    line: 132,
                    column: 20
                },
                end: {
                    line: 132,
                    column: 30
                }
            },
            '64': {
                start: {
                    line: 135,
                    column: 8
                },
                end: {
                    line: 141,
                    column: 9
                }
            },
            '65': {
                start: {
                    line: 136,
                    column: 12
                },
                end: {
                    line: 138,
                    column: 15
                }
            },
            '66': {
                start: {
                    line: 137,
                    column: 16
                },
                end: {
                    line: 137,
                    column: 75
                }
            },
            '67': {
                start: {
                    line: 140,
                    column: 12
                },
                end: {
                    line: 140,
                    column: 24
                }
            },
            '68': {
                start: {
                    line: 144,
                    column: 20
                },
                end: {
                    line: 150,
                    column: 10
                }
            },
            '69': {
                start: {
                    line: 152,
                    column: 8
                },
                end: {
                    line: 154,
                    column: 9
                }
            },
            '70': {
                start: {
                    line: 153,
                    column: 12
                },
                end: {
                    line: 153,
                    column: 46
                }
            },
            '71': {
                start: {
                    line: 157,
                    column: 8
                },
                end: {
                    line: 159,
                    column: 17
                }
            },
            '72': {
                start: {
                    line: 158,
                    column: 12
                },
                end: {
                    line: 158,
                    column: 51
                }
            },
            '73': {
                start: {
                    line: 161,
                    column: 8
                },
                end: {
                    line: 161,
                    column: 26
                }
            },
            '74': {
                start: {
                    line: 163,
                    column: 8
                },
                end: {
                    line: 163,
                    column: 21
                }
            },
            '75': {
                start: {
                    line: 167,
                    column: 21
                },
                end: {
                    line: 167,
                    column: 31
                }
            },
            '76': {
                start: {
                    line: 169,
                    column: 8
                },
                end: {
                    line: 173,
                    column: 9
                }
            },
            '77': {
                start: {
                    line: 170,
                    column: 12
                },
                end: {
                    line: 172,
                    column: 13
                }
            },
            '78': {
                start: {
                    line: 171,
                    column: 16
                },
                end: {
                    line: 171,
                    column: 33
                }
            },
            '79': {
                start: {
                    line: 175,
                    column: 8
                },
                end: {
                    line: 175,
                    column: 21
                }
            },
            '80': {
                start: {
                    line: 179,
                    column: 20
                },
                end: {
                    line: 179,
                    column: 36
                }
            },
            '81': {
                start: {
                    line: 181,
                    column: 8
                },
                end: {
                    line: 184,
                    column: 9
                }
            },
            '82': {
                start: {
                    line: 182,
                    column: 23
                },
                end: {
                    line: 182,
                    column: 63
                }
            },
            '83': {
                start: {
                    line: 183,
                    column: 12
                },
                end: {
                    line: 183,
                    column: 48
                }
            },
            '84': {
                start: {
                    line: 186,
                    column: 8
                },
                end: {
                    line: 186,
                    column: 61
                }
            },
            '85': {
                start: {
                    line: 190,
                    column: 21
                },
                end: {
                    line: 190,
                    column: 31
                }
            },
            '86': {
                start: {
                    line: 192,
                    column: 22
                },
                end: {
                    line: 196,
                    column: 9
                }
            },
            '87': {
                start: {
                    line: 198,
                    column: 8
                },
                end: {
                    line: 208,
                    column: 9
                }
            },
            '88': {
                start: {
                    line: 199,
                    column: 12
                },
                end: {
                    line: 199,
                    column: 30
                }
            },
            '89': {
                start: {
                    line: 201,
                    column: 12
                },
                end: {
                    line: 207,
                    column: 13
                }
            },
            '90': {
                start: {
                    line: 202,
                    column: 16
                },
                end: {
                    line: 202,
                    column: 41
                }
            },
            '91': {
                start: {
                    line: 203,
                    column: 16
                },
                end: {
                    line: 206,
                    column: 17
                }
            },
            '92': {
                start: {
                    line: 204,
                    column: 20
                },
                end: {
                    line: 204,
                    column: 54
                }
            },
            '93': {
                start: {
                    line: 205,
                    column: 20
                },
                end: {
                    line: 205,
                    column: 67
                }
            },
            '94': {
                start: {
                    line: 205,
                    column: 46
                },
                end: {
                    line: 205,
                    column: 67
                }
            },
            '95': {
                start: {
                    line: 210,
                    column: 8
                },
                end: {
                    line: 210,
                    column: 23
                }
            },
            '96': {
                start: {
                    line: 214,
                    column: 8
                },
                end: {
                    line: 214,
                    column: 40
                }
            },
            '97': {
                start: {
                    line: 215,
                    column: 8
                },
                end: {
                    line: 217,
                    column: 11
                }
            },
            '98': {
                start: {
                    line: 216,
                    column: 12
                },
                end: {
                    line: 216,
                    column: 43
                }
            },
            '99': {
                start: {
                    line: 218,
                    column: 8
                },
                end: {
                    line: 218,
                    column: 20
                }
            },
            '100': {
                start: {
                    line: 222,
                    column: 8
                },
                end: {
                    line: 222,
                    column: 64
                }
            },
            '101': {
                start: {
                    line: 226,
                    column: 8
                },
                end: {
                    line: 226,
                    column: 41
                }
            },
            '102': {
                start: {
                    line: 230,
                    column: 8
                },
                end: {
                    line: 230,
                    column: 39
                }
            },
            '103': {
                start: {
                    line: 234,
                    column: 8
                },
                end: {
                    line: 234,
                    column: 25
                }
            }
        },
        fnMap: {
            '0': {
                name: '(anonymous_0)',
                decl: {
                    start: {
                        line: 13,
                        column: 4
                    },
                    end: {
                        line: 13,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 13,
                        column: 26
                    },
                    end: {
                        line: 18,
                        column: 5
                    }
                },
                line: 13
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 15,
                        column: 56
                    },
                    end: {
                        line: 15,
                        column: 57
                    }
                },
                loc: {
                    start: {
                        line: 15,
                        column: 61
                    },
                    end: {
                        line: 15,
                        column: 76
                    }
                },
                line: 15
            },
            '2': {
                name: '(anonymous_2)',
                decl: {
                    start: {
                        line: 20,
                        column: 4
                    },
                    end: {
                        line: 20,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 20,
                        column: 21
                    },
                    end: {
                        line: 34,
                        column: 5
                    }
                },
                line: 20
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 36,
                        column: 4
                    },
                    end: {
                        line: 36,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 36,
                        column: 9
                    },
                    end: {
                        line: 82,
                        column: 5
                    }
                },
                line: 36
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 43,
                        column: 34
                    },
                    end: {
                        line: 43,
                        column: 35
                    }
                },
                loc: {
                    start: {
                        line: 43,
                        column: 47
                    },
                    end: {
                        line: 45,
                        column: 13
                    }
                },
                line: 43
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 55,
                        column: 39
                    },
                    end: {
                        line: 55,
                        column: 40
                    }
                },
                loc: {
                    start: {
                        line: 55,
                        column: 53
                    },
                    end: {
                        line: 73,
                        column: 9
                    }
                },
                line: 55
            },
            '6': {
                name: '(anonymous_6)',
                decl: {
                    start: {
                        line: 57,
                        column: 40
                    },
                    end: {
                        line: 57,
                        column: 41
                    }
                },
                loc: {
                    start: {
                        line: 57,
                        column: 57
                    },
                    end: {
                        line: 61,
                        column: 17
                    }
                },
                line: 57
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 64,
                        column: 55
                    },
                    end: {
                        line: 64,
                        column: 56
                    }
                },
                loc: {
                    start: {
                        line: 64,
                        column: 70
                    },
                    end: {
                        line: 66,
                        column: 21
                    }
                },
                line: 64
            },
            '8': {
                name: '(anonymous_8)',
                decl: {
                    start: {
                        line: 84,
                        column: 4
                    },
                    end: {
                        line: 84,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 84,
                        column: 18
                    },
                    end: {
                        line: 94,
                        column: 5
                    }
                },
                line: 84
            },
            '9': {
                name: '(anonymous_9)',
                decl: {
                    start: {
                        line: 89,
                        column: 27
                    },
                    end: {
                        line: 89,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 89,
                        column: 44
                    },
                    end: {
                        line: 91,
                        column: 9
                    }
                },
                line: 89
            },
            '10': {
                name: '(anonymous_10)',
                decl: {
                    start: {
                        line: 96,
                        column: 4
                    },
                    end: {
                        line: 96,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 96,
                        column: 12
                    },
                    end: {
                        line: 126,
                        column: 5
                    }
                },
                line: 96
            },
            '11': {
                name: 'dispatch',
                decl: {
                    start: {
                        line: 98,
                        column: 32
                    },
                    end: {
                        line: 98,
                        column: 40
                    }
                },
                loc: {
                    start: {
                        line: 98,
                        column: 52
                    },
                    end: {
                        line: 121,
                        column: 9
                    }
                },
                line: 98
            },
            '12': {
                name: '(anonymous_12)',
                decl: {
                    start: {
                        line: 111,
                        column: 54
                    },
                    end: {
                        line: 111,
                        column: 55
                    }
                },
                loc: {
                    start: {
                        line: 111,
                        column: 76
                    },
                    end: {
                        line: 118,
                        column: 13
                    }
                },
                line: 111
            },
            '13': {
                name: '(anonymous_13)',
                decl: {
                    start: {
                        line: 112,
                        column: 26
                    },
                    end: {
                        line: 112,
                        column: 27
                    }
                },
                loc: {
                    start: {
                        line: 112,
                        column: 46
                    },
                    end: {
                        line: 116,
                        column: 17
                    }
                },
                line: 112
            },
            '14': {
                name: '(anonymous_14)',
                decl: {
                    start: {
                        line: 128,
                        column: 4
                    },
                    end: {
                        line: 128,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 128,
                        column: 45
                    },
                    end: {
                        line: 164,
                        column: 5
                    }
                },
                line: 128
            },
            '15': {
                name: '(anonymous_15)',
                decl: {
                    start: {
                        line: 136,
                        column: 25
                    },
                    end: {
                        line: 136,
                        column: 26
                    }
                },
                loc: {
                    start: {
                        line: 136,
                        column: 38
                    },
                    end: {
                        line: 138,
                        column: 13
                    }
                },
                line: 136
            },
            '16': {
                name: '(anonymous_16)',
                decl: {
                    start: {
                        line: 157,
                        column: 41
                    },
                    end: {
                        line: 157,
                        column: 42
                    }
                },
                loc: {
                    start: {
                        line: 157,
                        column: 58
                    },
                    end: {
                        line: 159,
                        column: 9
                    }
                },
                line: 157
            },
            '17': {
                name: '(anonymous_17)',
                decl: {
                    start: {
                        line: 166,
                        column: 4
                    },
                    end: {
                        line: 166,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 166,
                        column: 15
                    },
                    end: {
                        line: 176,
                        column: 5
                    }
                },
                line: 166
            },
            '18': {
                name: '(anonymous_18)',
                decl: {
                    start: {
                        line: 178,
                        column: 4
                    },
                    end: {
                        line: 178,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 178,
                        column: 21
                    },
                    end: {
                        line: 187,
                        column: 5
                    }
                },
                line: 178
            },
            '19': {
                name: '(anonymous_19)',
                decl: {
                    start: {
                        line: 189,
                        column: 4
                    },
                    end: {
                        line: 189,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 189,
                        column: 23
                    },
                    end: {
                        line: 211,
                        column: 5
                    }
                },
                line: 189
            },
            '20': {
                name: '(anonymous_20)',
                decl: {
                    start: {
                        line: 213,
                        column: 4
                    },
                    end: {
                        line: 213,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 213,
                        column: 28
                    },
                    end: {
                        line: 219,
                        column: 5
                    }
                },
                line: 213
            },
            '21': {
                name: '(anonymous_21)',
                decl: {
                    start: {
                        line: 215,
                        column: 27
                    },
                    end: {
                        line: 215,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 215,
                        column: 44
                    },
                    end: {
                        line: 217,
                        column: 9
                    }
                },
                line: 215
            },
            '22': {
                name: '(anonymous_22)',
                decl: {
                    start: {
                        line: 221,
                        column: 4
                    },
                    end: {
                        line: 221,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 221,
                        column: 28
                    },
                    end: {
                        line: 223,
                        column: 5
                    }
                },
                line: 221
            },
            '23': {
                name: '(anonymous_23)',
                decl: {
                    start: {
                        line: 225,
                        column: 4
                    },
                    end: {
                        line: 225,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 225,
                        column: 23
                    },
                    end: {
                        line: 227,
                        column: 5
                    }
                },
                line: 225
            },
            '24': {
                name: '(anonymous_24)',
                decl: {
                    start: {
                        line: 229,
                        column: 4
                    },
                    end: {
                        line: 229,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 229,
                        column: 21
                    },
                    end: {
                        line: 231,
                        column: 5
                    }
                },
                line: 229
            },
            '25': {
                name: '(anonymous_25)',
                decl: {
                    start: {
                        line: 233,
                        column: 4
                    },
                    end: {
                        line: 233,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 233,
                        column: 17
                    },
                    end: {
                        line: 235,
                        column: 5
                    }
                },
                line: 233
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 13,
                        column: 16
                    },
                    end: {
                        line: 13,
                        column: 25
                    }
                },
                type: 'default-arg',
                locations: [{
                    start: {
                        line: 13,
                        column: 23
                    },
                    end: {
                        line: 13,
                        column: 25
                    }
                }],
                line: 13
            },
            '1': {
                loc: {
                    start: {
                        line: 15,
                        column: 23
                    },
                    end: {
                        line: 15,
                        column: 77
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 15,
                        column: 23
                    },
                    end: {
                        line: 15,
                        column: 40
                    }
                }, {
                    start: {
                        line: 15,
                        column: 44
                    },
                    end: {
                        line: 15,
                        column: 77
                    }
                }],
                line: 15
            },
            '2': {
                loc: {
                    start: {
                        line: 23,
                        column: 8
                    },
                    end: {
                        line: 29,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 23,
                        column: 8
                    },
                    end: {
                        line: 29,
                        column: 9
                    }
                }, {
                    start: {
                        line: 23,
                        column: 8
                    },
                    end: {
                        line: 29,
                        column: 9
                    }
                }],
                line: 23
            },
            '3': {
                loc: {
                    start: {
                        line: 23,
                        column: 12
                    },
                    end: {
                        line: 23,
                        column: 62
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 23,
                        column: 12
                    },
                    end: {
                        line: 23,
                        column: 36
                    }
                }, {
                    start: {
                        line: 23,
                        column: 40
                    },
                    end: {
                        line: 23,
                        column: 62
                    }
                }],
                line: 23
            },
            '4': {
                loc: {
                    start: {
                        line: 42,
                        column: 8
                    },
                    end: {
                        line: 48,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 42,
                        column: 8
                    },
                    end: {
                        line: 48,
                        column: 9
                    }
                }, {
                    start: {
                        line: 42,
                        column: 8
                    },
                    end: {
                        line: 48,
                        column: 9
                    }
                }],
                line: 42
            },
            '5': {
                loc: {
                    start: {
                        line: 42,
                        column: 12
                    },
                    end: {
                        line: 42,
                        column: 80
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 42,
                        column: 12
                    },
                    end: {
                        line: 42,
                        column: 40
                    }
                }, {
                    start: {
                        line: 42,
                        column: 44
                    },
                    end: {
                        line: 42,
                        column: 80
                    }
                }],
                line: 42
            },
            '6': {
                loc: {
                    start: {
                        line: 50,
                        column: 8
                    },
                    end: {
                        line: 52,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 50,
                        column: 8
                    },
                    end: {
                        line: 52,
                        column: 9
                    }
                }, {
                    start: {
                        line: 50,
                        column: 8
                    },
                    end: {
                        line: 52,
                        column: 9
                    }
                }],
                line: 50
            },
            '7': {
                loc: {
                    start: {
                        line: 56,
                        column: 12
                    },
                    end: {
                        line: 70,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 56,
                        column: 12
                    },
                    end: {
                        line: 70,
                        column: 13
                    }
                }, {
                    start: {
                        line: 56,
                        column: 12
                    },
                    end: {
                        line: 70,
                        column: 13
                    }
                }],
                line: 56
            },
            '8': {
                loc: {
                    start: {
                        line: 58,
                        column: 20
                    },
                    end: {
                        line: 58,
                        column: 52
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 58,
                        column: 20
                    },
                    end: {
                        line: 58,
                        column: 52
                    }
                }, {
                    start: {
                        line: 58,
                        column: 20
                    },
                    end: {
                        line: 58,
                        column: 52
                    }
                }],
                line: 58
            },
            '9': {
                loc: {
                    start: {
                        line: 59,
                        column: 20
                    },
                    end: {
                        line: 59,
                        column: 80
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 59,
                        column: 20
                    },
                    end: {
                        line: 59,
                        column: 80
                    }
                }, {
                    start: {
                        line: 59,
                        column: 20
                    },
                    end: {
                        line: 59,
                        column: 80
                    }
                }],
                line: 59
            },
            '10': {
                loc: {
                    start: {
                        line: 63,
                        column: 16
                    },
                    end: {
                        line: 67,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 63,
                        column: 16
                    },
                    end: {
                        line: 67,
                        column: 17
                    }
                }, {
                    start: {
                        line: 63,
                        column: 16
                    },
                    end: {
                        line: 67,
                        column: 17
                    }
                }],
                line: 63
            },
            '11': {
                loc: {
                    start: {
                        line: 75,
                        column: 8
                    },
                    end: {
                        line: 80,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 75,
                        column: 8
                    },
                    end: {
                        line: 80,
                        column: 9
                    }
                }, {
                    start: {
                        line: 75,
                        column: 8
                    },
                    end: {
                        line: 80,
                        column: 9
                    }
                }],
                line: 75
            },
            '12': {
                loc: {
                    start: {
                        line: 76,
                        column: 28
                    },
                    end: {
                        line: 76,
                        column: 42
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 76,
                        column: 28
                    },
                    end: {
                        line: 76,
                        column: 32
                    }
                }, {
                    start: {
                        line: 76,
                        column: 36
                    },
                    end: {
                        line: 76,
                        column: 42
                    }
                }],
                line: 76
            },
            '13': {
                loc: {
                    start: {
                        line: 99,
                        column: 23
                    },
                    end: {
                        line: 99,
                        column: 83
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 99,
                        column: 23
                    },
                    end: {
                        line: 99,
                        column: 45
                    }
                }, {
                    start: {
                        line: 99,
                        column: 49
                    },
                    end: {
                        line: 99,
                        column: 63
                    }
                }, {
                    start: {
                        line: 99,
                        column: 67
                    },
                    end: {
                        line: 99,
                        column: 83
                    }
                }],
                line: 99
            },
            '14': {
                loc: {
                    start: {
                        line: 103,
                        column: 12
                    },
                    end: {
                        line: 107,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 103,
                        column: 12
                    },
                    end: {
                        line: 107,
                        column: 13
                    }
                }, {
                    start: {
                        line: 103,
                        column: 12
                    },
                    end: {
                        line: 107,
                        column: 13
                    }
                }],
                line: 103
            },
            '15': {
                loc: {
                    start: {
                        line: 109,
                        column: 12
                    },
                    end: {
                        line: 109,
                        column: 46
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 109,
                        column: 12
                    },
                    end: {
                        line: 109,
                        column: 46
                    }
                }, {
                    start: {
                        line: 109,
                        column: 12
                    },
                    end: {
                        line: 109,
                        column: 46
                    }
                }],
                line: 109
            },
            '16': {
                loc: {
                    start: {
                        line: 129,
                        column: 15
                    },
                    end: {
                        line: 129,
                        column: 25
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 129,
                        column: 15
                    },
                    end: {
                        line: 129,
                        column: 19
                    }
                }, {
                    start: {
                        line: 129,
                        column: 23
                    },
                    end: {
                        line: 129,
                        column: 25
                    }
                }],
                line: 129
            },
            '17': {
                loc: {
                    start: {
                        line: 135,
                        column: 8
                    },
                    end: {
                        line: 141,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 135,
                        column: 8
                    },
                    end: {
                        line: 141,
                        column: 9
                    }
                }, {
                    start: {
                        line: 135,
                        column: 8
                    },
                    end: {
                        line: 141,
                        column: 9
                    }
                }],
                line: 135
            },
            '18': {
                loc: {
                    start: {
                        line: 145,
                        column: 17
                    },
                    end: {
                        line: 145,
                        column: 53
                    }
                },
                type: 'cond-expr',
                locations: [{
                    start: {
                        line: 145,
                        column: 38
                    },
                    end: {
                        line: 145,
                        column: 46
                    }
                }, {
                    start: {
                        line: 145,
                        column: 49
                    },
                    end: {
                        line: 145,
                        column: 53
                    }
                }],
                line: 145
            },
            '19': {
                loc: {
                    start: {
                        line: 147,
                        column: 23
                    },
                    end: {
                        line: 147,
                        column: 69
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 147,
                        column: 23
                    },
                    end: {
                        line: 147,
                        column: 37
                    }
                }, {
                    start: {
                        line: 147,
                        column: 41
                    },
                    end: {
                        line: 147,
                        column: 60
                    }
                }, {
                    start: {
                        line: 147,
                        column: 64
                    },
                    end: {
                        line: 147,
                        column: 69
                    }
                }],
                line: 147
            },
            '20': {
                loc: {
                    start: {
                        line: 148,
                        column: 20
                    },
                    end: {
                        line: 148,
                        column: 60
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 148,
                        column: 20
                    },
                    end: {
                        line: 148,
                        column: 31
                    }
                }, {
                    start: {
                        line: 148,
                        column: 35
                    },
                    end: {
                        line: 148,
                        column: 51
                    }
                }, {
                    start: {
                        line: 148,
                        column: 55
                    },
                    end: {
                        line: 148,
                        column: 60
                    }
                }],
                line: 148
            },
            '21': {
                loc: {
                    start: {
                        line: 149,
                        column: 20
                    },
                    end: {
                        line: 149,
                        column: 57
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 149,
                        column: 20
                    },
                    end: {
                        line: 149,
                        column: 31
                    }
                }, {
                    start: {
                        line: 149,
                        column: 35
                    },
                    end: {
                        line: 149,
                        column: 51
                    }
                }, {
                    start: {
                        line: 149,
                        column: 55
                    },
                    end: {
                        line: 149,
                        column: 57
                    }
                }],
                line: 149
            },
            '22': {
                loc: {
                    start: {
                        line: 152,
                        column: 8
                    },
                    end: {
                        line: 154,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 152,
                        column: 8
                    },
                    end: {
                        line: 154,
                        column: 9
                    }
                }, {
                    start: {
                        line: 152,
                        column: 8
                    },
                    end: {
                        line: 154,
                        column: 9
                    }
                }],
                line: 152
            },
            '23': {
                loc: {
                    start: {
                        line: 170,
                        column: 12
                    },
                    end: {
                        line: 172,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 170,
                        column: 12
                    },
                    end: {
                        line: 172,
                        column: 13
                    }
                }, {
                    start: {
                        line: 170,
                        column: 12
                    },
                    end: {
                        line: 172,
                        column: 13
                    }
                }],
                line: 170
            },
            '24': {
                loc: {
                    start: {
                        line: 170,
                        column: 16
                    },
                    end: {
                        line: 170,
                        column: 57
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 170,
                        column: 16
                    },
                    end: {
                        line: 170,
                        column: 30
                    }
                }, {
                    start: {
                        line: 170,
                        column: 34
                    },
                    end: {
                        line: 170,
                        column: 57
                    }
                }],
                line: 170
            },
            '25': {
                loc: {
                    start: {
                        line: 181,
                        column: 8
                    },
                    end: {
                        line: 184,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 181,
                        column: 8
                    },
                    end: {
                        line: 184,
                        column: 9
                    }
                }, {
                    start: {
                        line: 181,
                        column: 8
                    },
                    end: {
                        line: 184,
                        column: 9
                    }
                }],
                line: 181
            },
            '26': {
                loc: {
                    start: {
                        line: 201,
                        column: 12
                    },
                    end: {
                        line: 207,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 201,
                        column: 12
                    },
                    end: {
                        line: 207,
                        column: 13
                    }
                }, {
                    start: {
                        line: 201,
                        column: 12
                    },
                    end: {
                        line: 207,
                        column: 13
                    }
                }],
                line: 201
            },
            '27': {
                loc: {
                    start: {
                        line: 203,
                        column: 16
                    },
                    end: {
                        line: 206,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 203,
                        column: 16
                    },
                    end: {
                        line: 206,
                        column: 17
                    }
                }, {
                    start: {
                        line: 203,
                        column: 16
                    },
                    end: {
                        line: 206,
                        column: 17
                    }
                }],
                line: 203
            },
            '28': {
                loc: {
                    start: {
                        line: 203,
                        column: 20
                    },
                    end: {
                        line: 203,
                        column: 81
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 203,
                        column: 20
                    },
                    end: {
                        line: 203,
                        column: 46
                    }
                }, {
                    start: {
                        line: 203,
                        column: 50
                    },
                    end: {
                        line: 203,
                        column: 81
                    }
                }],
                line: 203
            },
            '29': {
                loc: {
                    start: {
                        line: 205,
                        column: 20
                    },
                    end: {
                        line: 205,
                        column: 67
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 205,
                        column: 20
                    },
                    end: {
                        line: 205,
                        column: 67
                    }
                }, {
                    start: {
                        line: 205,
                        column: 20
                    },
                    end: {
                        line: 205,
                        column: 67
                    }
                }],
                line: 205
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0,
            '36': 0,
            '37': 0,
            '38': 0,
            '39': 0,
            '40': 0,
            '41': 0,
            '42': 0,
            '43': 0,
            '44': 0,
            '45': 0,
            '46': 0,
            '47': 0,
            '48': 0,
            '49': 0,
            '50': 0,
            '51': 0,
            '52': 0,
            '53': 0,
            '54': 0,
            '55': 0,
            '56': 0,
            '57': 0,
            '58': 0,
            '59': 0,
            '60': 0,
            '61': 0,
            '62': 0,
            '63': 0,
            '64': 0,
            '65': 0,
            '66': 0,
            '67': 0,
            '68': 0,
            '69': 0,
            '70': 0,
            '71': 0,
            '72': 0,
            '73': 0,
            '74': 0,
            '75': 0,
            '76': 0,
            '77': 0,
            '78': 0,
            '79': 0,
            '80': 0,
            '81': 0,
            '82': 0,
            '83': 0,
            '84': 0,
            '85': 0,
            '86': 0,
            '87': 0,
            '88': 0,
            '89': 0,
            '90': 0,
            '91': 0,
            '92': 0,
            '93': 0,
            '94': 0,
            '95': 0,
            '96': 0,
            '97': 0,
            '98': 0,
            '99': 0,
            '100': 0,
            '101': 0,
            '102': 0,
            '103': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0
        },
        b: {
            '0': [0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0],
            '5': [0, 0],
            '6': [0, 0],
            '7': [0, 0],
            '8': [0, 0],
            '9': [0, 0],
            '10': [0, 0],
            '11': [0, 0],
            '12': [0, 0],
            '13': [0, 0, 0],
            '14': [0, 0],
            '15': [0, 0],
            '16': [0, 0],
            '17': [0, 0],
            '18': [0, 0],
            '19': [0, 0, 0],
            '20': [0, 0, 0],
            '21': [0, 0, 0],
            '22': [0, 0],
            '23': [0, 0],
            '24': [0, 0],
            '25': [0, 0],
            '26': [0, 0],
            '27': [0, 0],
            '28': [0, 0],
            '29': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

var _mioxCompose = require('miox-compose');

var _mioxCompose2 = _interopRequireDefault(_mioxCompose);

var _layer = require('./layer');

var _layer2 = _interopRequireDefault(_layer);

var _pathToRegexp = require('path-to-regexp');

var _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);

var _uri = require('./uri');

var _uri2 = _interopRequireDefault(_uri);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var methods = (cov_23hmlfyn73.s[0]++, ['patch']);

var Router = function () {
    function Router() {
        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (cov_23hmlfyn73.b[0][0]++, {});
        (0, _classCallCheck3.default)(this, Router);
        cov_23hmlfyn73.f[0]++;
        cov_23hmlfyn73.s[1]++;

        this.opts = opts;
        cov_23hmlfyn73.s[2]++;
        this.methods = (cov_23hmlfyn73.b[1][0]++, this.opts.methods) || (cov_23hmlfyn73.b[1][1]++, methods.map(function (m) {
            cov_23hmlfyn73.f[1]++;
            cov_23hmlfyn73.s[3]++;
            return m.toUpperCase();
        }));
        cov_23hmlfyn73.s[4]++;
        this.params = {};
        cov_23hmlfyn73.s[5]++;
        this.stack = [];
    }

    (0, _createClass3.default)(Router, [{
        key: 'patch',
        value: function patch(name, path) {
            cov_23hmlfyn73.f[2]++;

            var middleware = void 0;

            cov_23hmlfyn73.s[6]++;
            if ((cov_23hmlfyn73.b[3][0]++, typeof path === 'string') || (cov_23hmlfyn73.b[3][1]++, path instanceof RegExp)) {
                cov_23hmlfyn73.b[2][0]++;
                cov_23hmlfyn73.s[7]++;

                middleware = Array.prototype.slice.call(arguments, 2);
            } else {
                cov_23hmlfyn73.b[2][1]++;
                cov_23hmlfyn73.s[8]++;

                middleware = Array.prototype.slice.call(arguments, 1);
                cov_23hmlfyn73.s[9]++;
                path = name;
                cov_23hmlfyn73.s[10]++;
                name = null;
            }

            cov_23hmlfyn73.s[11]++;
            this.register(path, methods, middleware, { name: name });

            cov_23hmlfyn73.s[12]++;
            return this;
        }
    }, {
        key: 'use',
        value: function use() {
            cov_23hmlfyn73.f[3]++;

            var router = (cov_23hmlfyn73.s[13]++, this);
            var middleware = (cov_23hmlfyn73.s[14]++, Array.prototype.slice.call(arguments));
            var path = (cov_23hmlfyn73.s[15]++, '(.*)');

            // support array of paths
            cov_23hmlfyn73.s[16]++;
            if ((cov_23hmlfyn73.b[5][0]++, Array.isArray(middleware[0])) && (cov_23hmlfyn73.b[5][1]++, typeof middleware[0][0] === 'string')) {
                cov_23hmlfyn73.b[4][0]++;
                cov_23hmlfyn73.s[17]++;

                middleware[0].forEach(function (p) {
                    cov_23hmlfyn73.f[4]++;
                    cov_23hmlfyn73.s[18]++;

                    router.use.apply(router, [p].concat(middleware.slice(1)));
                });

                cov_23hmlfyn73.s[19]++;
                return this;
            } else {
                cov_23hmlfyn73.b[4][1]++;
            }

            cov_23hmlfyn73.s[20]++;
            if (typeof middleware[0] === 'string') {
                cov_23hmlfyn73.b[6][0]++;
                cov_23hmlfyn73.s[21]++;

                path = middleware.shift();
            } else {
                cov_23hmlfyn73.b[6][1]++;
            }

            // filter out nested routers from filter
            cov_23hmlfyn73.s[22]++;
            middleware = middleware.filter(function (fn) {
                cov_23hmlfyn73.f[5]++;
                cov_23hmlfyn73.s[23]++;

                if (fn.router) {
                    cov_23hmlfyn73.b[7][0]++;
                    cov_23hmlfyn73.s[24]++;

                    fn.router.stack.forEach(function (layer) {
                        cov_23hmlfyn73.f[6]++;
                        cov_23hmlfyn73.s[25]++;

                        if (path) {
                                cov_23hmlfyn73.b[8][0]++;
                                cov_23hmlfyn73.s[26]++;
                                layer.setPrefix(path);
                            } else {
                            cov_23hmlfyn73.b[8][1]++;
                        }cov_23hmlfyn73.s[27]++;
                        if (router.opts.prefix) {
                                cov_23hmlfyn73.b[9][0]++;
                                cov_23hmlfyn73.s[28]++;
                                layer.setPrefix(router.opts.prefix);
                            } else {
                            cov_23hmlfyn73.b[9][1]++;
                        }cov_23hmlfyn73.s[29]++;
                        router.stack.push(layer);
                    });

                    cov_23hmlfyn73.s[30]++;
                    if (router.params) {
                        cov_23hmlfyn73.b[10][0]++;
                        cov_23hmlfyn73.s[31]++;

                        Object.keys(router.params).forEach(function (key) {
                            cov_23hmlfyn73.f[7]++;
                            cov_23hmlfyn73.s[32]++;

                            fn.router.param(key, router.params[key]);
                        });
                    } else {
                        cov_23hmlfyn73.b[10][1]++;
                    }

                    cov_23hmlfyn73.s[33]++;
                    return false;
                } else {
                    cov_23hmlfyn73.b[7][1]++;
                }

                cov_23hmlfyn73.s[34]++;
                return true;
            });

            cov_23hmlfyn73.s[35]++;
            if (middleware.length) {
                cov_23hmlfyn73.b[11][0]++;
                cov_23hmlfyn73.s[36]++;

                router.register((cov_23hmlfyn73.b[12][0]++, path) || (cov_23hmlfyn73.b[12][1]++, '(.*)'), [], middleware, {
                    end: false,
                    ignoreCaptures: !path
                });
            } else {
                cov_23hmlfyn73.b[11][1]++;
            }
            cov_23hmlfyn73.s[37]++;
            return this;
        }
    }, {
        key: 'prefix',
        value: function prefix(_prefix) {
            cov_23hmlfyn73.f[8]++;
            cov_23hmlfyn73.s[38]++;

            _prefix = _prefix.replace(/\/$/, '');

            cov_23hmlfyn73.s[39]++;
            this.opts.prefix = _prefix;

            cov_23hmlfyn73.s[40]++;
            this.stack.forEach(function (route) {
                cov_23hmlfyn73.f[9]++;
                cov_23hmlfyn73.s[41]++;

                route.setPrefix(_prefix);
            });

            cov_23hmlfyn73.s[42]++;
            return this;
        }
    }, {
        key: 'routes',
        value: function routes() {
            cov_23hmlfyn73.f[10]++;

            var router = (cov_23hmlfyn73.s[43]++, this);
            cov_23hmlfyn73.s[44]++;
            var dispatch = function dispatch(ctx, next) {
                cov_23hmlfyn73.f[11]++;

                var path = (cov_23hmlfyn73.s[45]++, (cov_23hmlfyn73.b[13][0]++, router.opts.routerPath) || (cov_23hmlfyn73.b[13][1]++, ctx.routerPath) || (cov_23hmlfyn73.b[13][2]++, ctx.req.pathname));
                var matched = (cov_23hmlfyn73.s[46]++, router.match(path, ctx.method));
                var layerChain = void 0;

                cov_23hmlfyn73.s[47]++;
                if (ctx.matched) {
                    cov_23hmlfyn73.b[14][0]++;
                    cov_23hmlfyn73.s[48]++;

                    ctx.matched.push.apply(ctx.matched, matched.path);
                } else {
                    cov_23hmlfyn73.b[14][1]++;
                    cov_23hmlfyn73.s[49]++;

                    ctx.matched = matched.path;
                }

                cov_23hmlfyn73.s[50]++;
                if (!matched.route) {
                        cov_23hmlfyn73.b[15][0]++;
                        cov_23hmlfyn73.s[51]++;
                        return next();
                    } else {
                    cov_23hmlfyn73.b[15][1]++;
                }cov_23hmlfyn73.s[52]++;
                layerChain = matched.pathAndMethod.reduce(function (memo, layer) {
                    cov_23hmlfyn73.f[12]++;
                    cov_23hmlfyn73.s[53]++;

                    memo.push(function (ctx, next) {
                        cov_23hmlfyn73.f[13]++;
                        cov_23hmlfyn73.s[54]++;

                        ctx.captures = layer.captures(path, ctx.captures);
                        cov_23hmlfyn73.s[55]++;
                        ctx.params = layer.params(path, ctx.captures, ctx.params);
                        cov_23hmlfyn73.s[56]++;
                        return next();
                    });
                    cov_23hmlfyn73.s[57]++;
                    return memo.concat(layer.stack);
                }, []);

                cov_23hmlfyn73.s[58]++;
                return (0, _mioxCompose2.default)(layerChain)(ctx, next);
            };

            cov_23hmlfyn73.s[59]++;
            dispatch.router = this;

            cov_23hmlfyn73.s[60]++;
            return dispatch;
        }
    }, {
        key: 'register',
        value: function register(path, methods, middleware, opts) {
            cov_23hmlfyn73.f[14]++;
            cov_23hmlfyn73.s[61]++;

            opts = (cov_23hmlfyn73.b[16][0]++, opts) || (cov_23hmlfyn73.b[16][1]++, {});

            var router = (cov_23hmlfyn73.s[62]++, this);
            var stack = (cov_23hmlfyn73.s[63]++, this.stack);

            // support array of paths
            cov_23hmlfyn73.s[64]++;
            if (Array.isArray(path)) {
                cov_23hmlfyn73.b[17][0]++;
                cov_23hmlfyn73.s[65]++;

                path.forEach(function (p) {
                    cov_23hmlfyn73.f[15]++;
                    cov_23hmlfyn73.s[66]++;

                    router.register.call(router, p, methods, middleware, opts);
                });

                cov_23hmlfyn73.s[67]++;
                return this;
            } else {
                cov_23hmlfyn73.b[17][1]++;
            }

            // create route
            var route = (cov_23hmlfyn73.s[68]++, new _layer2.default(path, methods, middleware, {
                end: opts.end === false ? (cov_23hmlfyn73.b[18][0]++, opts.end) : (cov_23hmlfyn73.b[18][1]++, true),
                name: opts.name,
                sensitive: (cov_23hmlfyn73.b[19][0]++, opts.sensitive) || (cov_23hmlfyn73.b[19][1]++, this.opts.sensitive) || (cov_23hmlfyn73.b[19][2]++, false),
                strict: (cov_23hmlfyn73.b[20][0]++, opts.strict) || (cov_23hmlfyn73.b[20][1]++, this.opts.strict) || (cov_23hmlfyn73.b[20][2]++, false),
                prefix: (cov_23hmlfyn73.b[21][0]++, opts.prefix) || (cov_23hmlfyn73.b[21][1]++, this.opts.prefix) || (cov_23hmlfyn73.b[21][2]++, "")
            }));

            cov_23hmlfyn73.s[69]++;
            if (this.opts.prefix) {
                cov_23hmlfyn73.b[22][0]++;
                cov_23hmlfyn73.s[70]++;

                route.setPrefix(this.opts.prefix);
            } else {
                cov_23hmlfyn73.b[22][1]++;
            }

            // add parameter middleware
            cov_23hmlfyn73.s[71]++;
            Object.keys(this.params).forEach(function (param) {
                cov_23hmlfyn73.f[16]++;
                cov_23hmlfyn73.s[72]++;

                route.param(param, this.params[param]);
            }, this);

            cov_23hmlfyn73.s[73]++;
            stack.push(route);

            cov_23hmlfyn73.s[74]++;
            return route;
        }
    }, {
        key: 'route',
        value: function route(name) {
            cov_23hmlfyn73.f[17]++;

            var routes = (cov_23hmlfyn73.s[75]++, this.stack);

            cov_23hmlfyn73.s[76]++;
            for (var len = routes.length, i = 0; i < len; i++) {
                cov_23hmlfyn73.s[77]++;

                if ((cov_23hmlfyn73.b[24][0]++, routes[i].name) && (cov_23hmlfyn73.b[24][1]++, routes[i].name === name)) {
                    cov_23hmlfyn73.b[23][0]++;
                    cov_23hmlfyn73.s[78]++;

                    return routes[i];
                } else {
                    cov_23hmlfyn73.b[23][1]++;
                }
            }

            cov_23hmlfyn73.s[79]++;
            return false;
        }
    }, {
        key: 'url',
        value: function url(name, params) {
            cov_23hmlfyn73.f[18]++;

            var route = (cov_23hmlfyn73.s[80]++, this.route(name));

            cov_23hmlfyn73.s[81]++;
            if (route) {
                cov_23hmlfyn73.b[25][0]++;

                var args = (cov_23hmlfyn73.s[82]++, Array.prototype.slice.call(arguments, 1));
                cov_23hmlfyn73.s[83]++;
                return route.url.apply(route, args);
            } else {
                cov_23hmlfyn73.b[25][1]++;
            }

            cov_23hmlfyn73.s[84]++;
            return new Error("No route found for name: " + name);
        }
    }, {
        key: 'match',
        value: function match(path, method) {
            cov_23hmlfyn73.f[19]++;

            var layers = (cov_23hmlfyn73.s[85]++, this.stack);
            var layer;
            var matched = (cov_23hmlfyn73.s[86]++, {
                path: [],
                pathAndMethod: [],
                route: false
            });

            cov_23hmlfyn73.s[87]++;
            for (var len = layers.length, i = 0; i < len; i++) {
                cov_23hmlfyn73.s[88]++;

                layer = layers[i];

                cov_23hmlfyn73.s[89]++;
                if (layer.match(path)) {
                    cov_23hmlfyn73.b[26][0]++;
                    cov_23hmlfyn73.s[90]++;

                    matched.path.push(layer);
                    cov_23hmlfyn73.s[91]++;
                    if ((cov_23hmlfyn73.b[28][0]++, layer.methods.length === 0) || (cov_23hmlfyn73.b[28][1]++, !~layer.methods.indexOf(method))) {
                        cov_23hmlfyn73.b[27][0]++;
                        cov_23hmlfyn73.s[92]++;

                        matched.pathAndMethod.push(layer);
                        cov_23hmlfyn73.s[93]++;
                        if (layer.methods.length) {
                                cov_23hmlfyn73.b[29][0]++;
                                cov_23hmlfyn73.s[94]++;
                                matched.route = true;
                            } else {
                            cov_23hmlfyn73.b[29][1]++;
                        }
                    } else {
                        cov_23hmlfyn73.b[27][1]++;
                    }
                } else {
                    cov_23hmlfyn73.b[26][1]++;
                }
            }

            cov_23hmlfyn73.s[95]++;
            return matched;
        }
    }, {
        key: 'param',
        value: function param(_param, middleware) {
            cov_23hmlfyn73.f[20]++;
            cov_23hmlfyn73.s[96]++;

            this.params[_param] = middleware;
            cov_23hmlfyn73.s[97]++;
            this.stack.forEach(function (route) {
                cov_23hmlfyn73.f[21]++;
                cov_23hmlfyn73.s[98]++;

                route.param(_param, middleware);
            });
            cov_23hmlfyn73.s[99]++;
            return this;
        }
    }], [{
        key: 'url',
        value: function url(path, params) {
            cov_23hmlfyn73.f[22]++;
            cov_23hmlfyn73.s[100]++;

            return _layer2.default.prototype.url.call({ path: path }, params);
        }
    }, {
        key: 'compile',
        value: function compile(uri) {
            cov_23hmlfyn73.f[23]++;
            cov_23hmlfyn73.s[101]++;

            return _pathToRegexp2.default.compile(uri);
        }
    }, {
        key: 'parse',
        value: function parse(uri) {
            cov_23hmlfyn73.f[24]++;
            cov_23hmlfyn73.s[102]++;

            return _pathToRegexp2.default.parse(uri);
        }
    }, {
        key: 'uri',
        value: function uri() {
            cov_23hmlfyn73.f[25]++;
            cov_23hmlfyn73.s[103]++;

            return new _uri2.default();
        }
    }]);
    return Router;
}();

exports.default = Router;
module.exports = exports['default'];