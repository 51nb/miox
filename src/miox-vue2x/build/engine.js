'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var cov_2l8e0ex6hh = function () {
    var path = '/Users/shenyunjie/CodeBox/miox/src/miox-vue2x/src/engine.js',
        hash = 'daee675a6336316333d39603337cfc1a788ef05b',
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: '/Users/shenyunjie/CodeBox/miox/src/miox-vue2x/src/engine.js',
        statementMap: {
            '0': {
                start: {
                    line: 14,
                    column: 8
                },
                end: {
                    line: 14,
                    column: 23
                }
            },
            '1': {
                start: {
                    line: 59,
                    column: 8
                },
                end: {
                    line: 59,
                    column: 46
                }
            },
            '2': {
                start: {
                    line: 60,
                    column: 8
                },
                end: {
                    line: 85,
                    column: 11
                }
            },
            '3': {
                start: {
                    line: 61,
                    column: 12
                },
                end: {
                    line: 84,
                    column: 13
                }
            },
            '4': {
                start: {
                    line: 62,
                    column: 34
                },
                end: {
                    line: 62,
                    column: 36
                }
            },
            '5': {
                start: {
                    line: 64,
                    column: 16
                },
                end: {
                    line: 74,
                    column: 17
                }
            },
            '6': {
                start: {
                    line: 66,
                    column: 24
                },
                end: {
                    line: 66,
                    column: 64
                }
            },
            '7': {
                start: {
                    line: 67,
                    column: 24
                },
                end: {
                    line: 67,
                    column: 30
                }
            },
            '8': {
                start: {
                    line: 73,
                    column: 24
                },
                end: {
                    line: 73,
                    column: 30
                }
            },
            '9': {
                start: {
                    line: 76,
                    column: 16
                },
                end: {
                    line: 76,
                    column: 52
                }
            },
            '10': {
                start: {
                    line: 77,
                    column: 16
                },
                end: {
                    line: 77,
                    column: 44
                }
            },
            '11': {
                start: {
                    line: 79,
                    column: 16
                },
                end: {
                    line: 81,
                    column: 19
                }
            },
            '12': {
                start: {
                    line: 80,
                    column: 20
                },
                end: {
                    line: 80,
                    column: 34
                }
            },
            '13': {
                start: {
                    line: 83,
                    column: 16
                },
                end: {
                    line: 83,
                    column: 26
                }
            },
            '14': {
                start: {
                    line: 89,
                    column: 8
                },
                end: {
                    line: 89,
                    column: 26
                }
            },
            '15': {
                start: {
                    line: 93,
                    column: 8
                },
                end: {
                    line: 93,
                    column: 39
                }
            },
            '16': {
                start: {
                    line: 97,
                    column: 8
                },
                end: {
                    line: 97,
                    column: 38
                }
            },
            '17': {
                start: {
                    line: 101,
                    column: 8
                },
                end: {
                    line: 101,
                    column: 38
                }
            },
            '18': {
                start: {
                    line: 105,
                    column: 8
                },
                end: {
                    line: 105,
                    column: 57
                }
            },
            '19': {
                start: {
                    line: 109,
                    column: 8
                },
                end: {
                    line: 109,
                    column: 55
                }
            },
            '20': {
                start: {
                    line: 113,
                    column: 8
                },
                end: {
                    line: 113,
                    column: 44
                }
            },
            '21': {
                start: {
                    line: 117,
                    column: 8
                },
                end: {
                    line: 117,
                    column: 39
                }
            },
            '22': {
                start: {
                    line: 118,
                    column: 8
                },
                end: {
                    line: 118,
                    column: 29
                }
            },
            '23': {
                start: {
                    line: 122,
                    column: 8
                },
                end: {
                    line: 122,
                    column: 37
                }
            },
            '24': {
                start: {
                    line: 122,
                    column: 30
                },
                end: {
                    line: 122,
                    column: 37
                }
            },
            '25': {
                start: {
                    line: 123,
                    column: 24
                },
                end: {
                    line: 123,
                    column: 60
                }
            },
            '26': {
                start: {
                    line: 124,
                    column: 28
                },
                end: {
                    line: 124,
                    column: 64
                }
            },
            '27': {
                start: {
                    line: 126,
                    column: 8
                },
                end: {
                    line: 126,
                    column: 46
                }
            },
            '28': {
                start: {
                    line: 127,
                    column: 8
                },
                end: {
                    line: 127,
                    column: 41
                }
            },
            '29': {
                start: {
                    line: 128,
                    column: 8
                },
                end: {
                    line: 128,
                    column: 44
                }
            },
            '30': {
                start: {
                    line: 130,
                    column: 8
                },
                end: {
                    line: 130,
                    column: 27
                }
            },
            '31': {
                start: {
                    line: 153,
                    column: 4
                },
                end: {
                    line: 159,
                    column: 5
                }
            },
            '32': {
                start: {
                    line: 154,
                    column: 8
                },
                end: {
                    line: 158,
                    column: 9
                }
            },
            '33': {
                start: {
                    line: 155,
                    column: 12
                },
                end: {
                    line: 155,
                    column: 42
                }
            },
            '34': {
                start: {
                    line: 157,
                    column: 12
                },
                end: {
                    line: 157,
                    column: 100
                }
            },
            '35': {
                start: {
                    line: 160,
                    column: 4
                },
                end: {
                    line: 160,
                    column: 19
                }
            }
        },
        fnMap: {
            '0': {
                name: '(anonymous_0)',
                decl: {
                    start: {
                        line: 13,
                        column: 4
                    },
                    end: {
                        line: 13,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 13,
                        column: 21
                    },
                    end: {
                        line: 56,
                        column: 5
                    }
                },
                line: 13
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 58,
                        column: 4
                    },
                    end: {
                        line: 58,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 58,
                        column: 35
                    },
                    end: {
                        line: 86,
                        column: 5
                    }
                },
                line: 58
            },
            '2': {
                name: '(anonymous_2)',
                decl: {
                    start: {
                        line: 60,
                        column: 33
                    },
                    end: {
                        line: 60,
                        column: 34
                    }
                },
                loc: {
                    start: {
                        line: 60,
                        column: 54
                    },
                    end: {
                        line: 85,
                        column: 9
                    }
                },
                line: 60
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 79,
                        column: 62
                    },
                    end: {
                        line: 79,
                        column: 63
                    }
                },
                loc: {
                    start: {
                        line: 79,
                        column: 72
                    },
                    end: {
                        line: 81,
                        column: 17
                    }
                },
                line: 79
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 88,
                        column: 4
                    },
                    end: {
                        line: 88,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 88,
                        column: 26
                    },
                    end: {
                        line: 90,
                        column: 5
                    }
                },
                line: 88
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 92,
                        column: 4
                    },
                    end: {
                        line: 92,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 92,
                        column: 25
                    },
                    end: {
                        line: 94,
                        column: 5
                    }
                },
                line: 92
            },
            '6': {
                name: '(anonymous_6)',
                decl: {
                    start: {
                        line: 96,
                        column: 4
                    },
                    end: {
                        line: 96,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 96,
                        column: 24
                    },
                    end: {
                        line: 98,
                        column: 5
                    }
                },
                line: 96
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 100,
                        column: 4
                    },
                    end: {
                        line: 100,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 100,
                        column: 24
                    },
                    end: {
                        line: 102,
                        column: 5
                    }
                },
                line: 100
            },
            '8': {
                name: '(anonymous_8)',
                decl: {
                    start: {
                        line: 104,
                        column: 4
                    },
                    end: {
                        line: 104,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 104,
                        column: 43
                    },
                    end: {
                        line: 106,
                        column: 5
                    }
                },
                line: 104
            },
            '9': {
                name: '(anonymous_9)',
                decl: {
                    start: {
                        line: 108,
                        column: 4
                    },
                    end: {
                        line: 108,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 108,
                        column: 41
                    },
                    end: {
                        line: 110,
                        column: 5
                    }
                },
                line: 108
            },
            '10': {
                name: '(anonymous_10)',
                decl: {
                    start: {
                        line: 112,
                        column: 4
                    },
                    end: {
                        line: 112,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 112,
                        column: 20
                    },
                    end: {
                        line: 114,
                        column: 5
                    }
                },
                line: 112
            },
            '11': {
                name: '(anonymous_11)',
                decl: {
                    start: {
                        line: 116,
                        column: 4
                    },
                    end: {
                        line: 116,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 116,
                        column: 14
                    },
                    end: {
                        line: 119,
                        column: 5
                    }
                },
                line: 116
            },
            '12': {
                name: '(anonymous_12)',
                decl: {
                    start: {
                        line: 121,
                        column: 4
                    },
                    end: {
                        line: 121,
                        column: 5
                    }
                },
                loc: {
                    start: {
                        line: 121,
                        column: 23
                    },
                    end: {
                        line: 131,
                        column: 5
                    }
                },
                line: 121
            },
            '13': {
                name: 'checkWebViewObject',
                decl: {
                    start: {
                        line: 152,
                        column: 9
                    },
                    end: {
                        line: 152,
                        column: 27
                    }
                },
                loc: {
                    start: {
                        line: 152,
                        column: 37
                    },
                    end: {
                        line: 161,
                        column: 1
                    }
                },
                line: 152
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 64,
                        column: 16
                    },
                    end: {
                        line: 74,
                        column: 17
                    }
                },
                type: 'switch',
                locations: [{
                    start: {
                        line: 65,
                        column: 20
                    },
                    end: {
                        line: 67,
                        column: 30
                    }
                }, {
                    start: {
                        line: 68,
                        column: 20
                    },
                    end: {
                        line: 73,
                        column: 30
                    }
                }],
                line: 64
            },
            '1': {
                loc: {
                    start: {
                        line: 76,
                        column: 38
                    },
                    end: {
                        line: 76,
                        column: 51
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 76,
                        column: 38
                    },
                    end: {
                        line: 76,
                        column: 45
                    }
                }, {
                    start: {
                        line: 76,
                        column: 49
                    },
                    end: {
                        line: 76,
                        column: 51
                    }
                }],
                line: 76
            },
            '2': {
                loc: {
                    start: {
                        line: 122,
                        column: 8
                    },
                    end: {
                        line: 122,
                        column: 37
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 122,
                        column: 8
                    },
                    end: {
                        line: 122,
                        column: 37
                    }
                }, {
                    start: {
                        line: 122,
                        column: 8
                    },
                    end: {
                        line: 122,
                        column: 37
                    }
                }],
                line: 122
            },
            '3': {
                loc: {
                    start: {
                        line: 153,
                        column: 4
                    },
                    end: {
                        line: 159,
                        column: 5
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 153,
                        column: 4
                    },
                    end: {
                        line: 159,
                        column: 5
                    }
                }, {
                    start: {
                        line: 153,
                        column: 4
                    },
                    end: {
                        line: 159,
                        column: 5
                    }
                }],
                line: 153
            },
            '4': {
                loc: {
                    start: {
                        line: 153,
                        column: 9
                    },
                    end: {
                        line: 153,
                        column: 59
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 153,
                        column: 9
                    },
                    end: {
                        line: 153,
                        column: 26
                    }
                }, {
                    start: {
                        line: 153,
                        column: 30
                    },
                    end: {
                        line: 153,
                        column: 59
                    }
                }],
                line: 153
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0
        },
        b: {
            '0': [0, 0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}(); /**
      * Created by evio on 2017/3/20.
      */


var _isClass = require('is-class');

var _isClass2 = _interopRequireDefault(_isClass);

var _webview = require('./webview');

var _webview2 = _interopRequireDefault(_webview);

var _vue = require('vue');

var _vue2 = _interopRequireDefault(_vue);

var _directives = require('./directives');

var _directives2 = _interopRequireDefault(_directives);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Vue2x 驱动引擎
 */
var Engine = function () {
    function Engine(ctx) {
        (0, _classCallCheck3.default)(this, Engine);
        cov_2l8e0ex6hh.f[0]++;
        cov_2l8e0ex6hh.s[0]++;

        this.ctx = ctx;

        /* istanbul ignore next */
        ctx.on('app:end', function () {
            if (ctx.env === 'server') return;
            var scripts = ctx.element.querySelectorAll('script');
            var i = scripts.length;

            while (i--) {
                var script = scripts[i];
                if (script && script.parentNode) {
                    script.parentNode.removeChild(script);
                }
            }
        });

        /* istanbul ignore next */
        ctx.on('server:render:polyfill', function (context) {
            var store = ctx.get('vuex');
            if (store) {
                context.state = store.state;
            }
        });

        /* istanbul ignore next */
        ctx.on('client:render:polyfill', function () {
            var store = ctx.get('vuex');
            if (global.__INITIAL_STATE__ && store) {
                store.replaceState(global.__INITIAL_STATE__);
            }
        });

        /* istanbul ignore next */
        ctx.on('client:render:mount', function (viewModule) {
            if (!ctx.element) throw new Error('miss ctx.element');
            if (!viewModule) throw new Error('miss view module');

            var el = ctx.element.querySelector('[data-server-rendered=true]');
            if (!el) throw new Error('miss data-server-rendered element');

            viewModule.$mount(el);
        });
    }

    (0, _createClass3.default)(Engine, [{
        key: 'create',
        value: function () {
            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(webview, options) {
                var _this = this;

                return _regenerator2.default.wrap(function _callee$(_context) {
                    while (1) {
                        switch (_context.prev = _context.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[1]++;
                                cov_2l8e0ex6hh.s[1]++;

                                webview = checkWebViewObject(webview);
                                cov_2l8e0ex6hh.s[2]++;
                                _context.next = 6;
                                return new Promise(function (resolve, reject) {
                                    cov_2l8e0ex6hh.f[2]++;
                                    cov_2l8e0ex6hh.s[3]++;

                                    try {
                                        var Arguments = (cov_2l8e0ex6hh.s[4]++, {});

                                        cov_2l8e0ex6hh.s[5]++;
                                        switch (_this.ctx.env) {
                                            case 'web':
                                                cov_2l8e0ex6hh.b[0][0]++;
                                                cov_2l8e0ex6hh.s[6]++;

                                                Arguments.el = _this.createWebViewRoot();
                                                cov_2l8e0ex6hh.s[7]++;
                                                break;
                                            case 'client':
                                                cov_2l8e0ex6hh.b[0][1]++;

                                                /* istanbul ignore next */
                                                if (_this.ctx.installed) {
                                                    Arguments.el = _this.createWebViewRoot();
                                                }
                                                cov_2l8e0ex6hh.s[8]++;
                                                break;
                                        }

                                        cov_2l8e0ex6hh.s[9]++;
                                        Arguments.propsData = (cov_2l8e0ex6hh.b[1][0]++, options) || (cov_2l8e0ex6hh.b[1][1]++, {});
                                        cov_2l8e0ex6hh.s[10]++;
                                        Arguments.extends = _webview2.default;

                                        cov_2l8e0ex6hh.s[11]++;
                                        new webview(Arguments).$on('webview:created', function () {
                                            cov_2l8e0ex6hh.f[3]++;
                                            cov_2l8e0ex6hh.s[12]++;

                                            resolve(this);
                                        });
                                    } catch (e) {
                                        cov_2l8e0ex6hh.s[13]++;

                                        reject(e);
                                    }
                                });

                            case 6:
                                return _context.abrupt('return', _context.sent);

                            case 7:
                            case 'end':
                                return _context.stop();
                        }
                    }
                }, _callee, this);
            }));

            function create(_x, _x2) {
                return _ref.apply(this, arguments);
            }

            return create;
        }()
    }, {
        key: 'destroy',
        value: function () {
            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(target) {
                return _regenerator2.default.wrap(function _callee2$(_context2) {
                    while (1) {
                        switch (_context2.prev = _context2.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[4]++;
                                cov_2l8e0ex6hh.s[14]++;

                                target.$destroy();

                            case 3:
                            case 'end':
                                return _context2.stop();
                        }
                    }
                }, _callee2, this);
            }));

            function destroy(_x3) {
                return _ref2.apply(this, arguments);
            }

            return destroy;
        }()
    }, {
        key: 'active',
        value: function () {
            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(target) {
                return _regenerator2.default.wrap(function _callee3$(_context3) {
                    while (1) {
                        switch (_context3.prev = _context3.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[5]++;
                                cov_2l8e0ex6hh.s[15]++;

                                target.$emit('webview:active');

                            case 3:
                            case 'end':
                                return _context3.stop();
                        }
                    }
                }, _callee3, this);
            }));

            function active(_x4) {
                return _ref3.apply(this, arguments);
            }

            return active;
        }()
    }, {
        key: 'enter',
        value: function () {
            var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(target) {
                return _regenerator2.default.wrap(function _callee4$(_context4) {
                    while (1) {
                        switch (_context4.prev = _context4.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[6]++;
                                cov_2l8e0ex6hh.s[16]++;

                                target.$emit('webview:enter');

                            case 3:
                            case 'end':
                                return _context4.stop();
                        }
                    }
                }, _callee4, this);
            }));

            function enter(_x5) {
                return _ref4.apply(this, arguments);
            }

            return enter;
        }()
    }, {
        key: 'leave',
        value: function () {
            var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(target) {
                return _regenerator2.default.wrap(function _callee5$(_context5) {
                    while (1) {
                        switch (_context5.prev = _context5.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[7]++;
                                cov_2l8e0ex6hh.s[17]++;

                                target.$emit('webview:leave');

                            case 3:
                            case 'end':
                                return _context5.stop();
                        }
                    }
                }, _callee5, this);
            }));

            function leave(_x6) {
                return _ref5.apply(this, arguments);
            }

            return leave;
        }()
    }, {
        key: 'searchchange',
        value: function () {
            var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(target, prev, next) {
                return _regenerator2.default.wrap(function _callee6$(_context6) {
                    while (1) {
                        switch (_context6.prev = _context6.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[8]++;
                                cov_2l8e0ex6hh.s[18]++;

                                target.$emit('webview:searchchange', prev, next);

                            case 3:
                            case 'end':
                                return _context6.stop();
                        }
                    }
                }, _callee6, this);
            }));

            function searchchange(_x7, _x8, _x9) {
                return _ref6.apply(this, arguments);
            }

            return searchchange;
        }()
    }, {
        key: 'hashchange',
        value: function () {
            var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(target, prev, next) {
                return _regenerator2.default.wrap(function _callee7$(_context7) {
                    while (1) {
                        switch (_context7.prev = _context7.next) {
                            case 0:
                                cov_2l8e0ex6hh.f[9]++;
                                cov_2l8e0ex6hh.s[19]++;

                                target.$emit('webview:hashchange', prev, next);

                            case 3:
                            case 'end':
                                return _context7.stop();
                        }
                    }
                }, _callee7, this);
            }));

            function hashchange(_x10, _x11, _x12) {
                return _ref7.apply(this, arguments);
            }

            return hashchange;
        }()
    }, {
        key: 'element',
        value: function element(target) {
            cov_2l8e0ex6hh.f[10]++;
            cov_2l8e0ex6hh.s[20]++;

            return target.__MioxInjectElement__;
        }
    }, {
        key: 'install',
        value: function install() {
            cov_2l8e0ex6hh.f[11]++;
            cov_2l8e0ex6hh.s[21]++;

            _vue2.default.prototype.$miox = this.ctx;
            cov_2l8e0ex6hh.s[22]++;
            (0, _directives2.default)(this.ctx);
        }
    }, {
        key: 'createWebViewRoot',
        value: function createWebViewRoot() {
            cov_2l8e0ex6hh.f[12]++;
            cov_2l8e0ex6hh.s[23]++;

            if (!global.document) {
                    cov_2l8e0ex6hh.b[2][0]++;
                    cov_2l8e0ex6hh.s[24]++;
                    return;
                } else {
                cov_2l8e0ex6hh.b[2][1]++;
            }var element = (cov_2l8e0ex6hh.s[25]++, global.document.createElement('div'));
            var wrapElement = (cov_2l8e0ex6hh.s[26]++, global.document.createElement('div'));

            cov_2l8e0ex6hh.s[27]++;
            this.ctx.element.appendChild(element);
            cov_2l8e0ex6hh.s[28]++;
            element.appendChild(wrapElement);
            cov_2l8e0ex6hh.s[29]++;
            element.classList.add('mx-webview');

            cov_2l8e0ex6hh.s[30]++;
            return wrapElement;
        }

        /* istanbul ignore next */

    }, {
        key: 'ssr',
        value: function ssr() {
            var _this2 = this;

            this.ctx.emit('app:start');
            return function () {
                var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(options) {
                    var url, app, ctx;
                    return _regenerator2.default.wrap(function _callee8$(_context8) {
                        while (1) {
                            switch (_context8.prev = _context8.next) {
                                case 0:
                                    url = options.url, app = options.app, ctx = options.ctx;

                                    _this2.ctx.$application = app;
                                    _this2.ctx.$context = ctx;
                                    _context8.next = 5;
                                    return _this2.ctx.createServerProgress(url);

                                case 5:
                                    _context8.next = 7;
                                    return _this2.ctx.emit('app:end');

                                case 7:
                                    if (!_this2.ctx.err) {
                                        _context8.next = 11;
                                        break;
                                    }

                                    throw _this2.ctx.err;

                                case 11:
                                    _context8.next = 13;
                                    return _this2.ctx.emit('server:render:polyfill', options);

                                case 13:
                                    return _context8.abrupt('return', _this2.ctx.webView);

                                case 14:
                                case 'end':
                                    return _context8.stop();
                            }
                        }
                    }, _callee8, _this2);
                }));

                return function (_x13) {
                    return _ref8.apply(this, arguments);
                };
            }();
        }
    }]);
    return Engine;
}();

exports.default = Engine;


function checkWebViewObject(webview) {
    cov_2l8e0ex6hh.f[13]++;
    cov_2l8e0ex6hh.s[31]++;

    if ((cov_2l8e0ex6hh.b[4][0]++, !(0, _isClass2.default)(webview)) && (cov_2l8e0ex6hh.b[4][1]++, typeof webview !== 'function')) {
        cov_2l8e0ex6hh.b[3][0]++;
        cov_2l8e0ex6hh.s[32]++;

        try {
            cov_2l8e0ex6hh.s[33]++;

            webview = _vue2.default.extend(webview);
        } catch (e) {
            cov_2l8e0ex6hh.s[34]++;

            throw new Error('`webview` argument is not a class object or a function or an object.');
        }
    } else {
        cov_2l8e0ex6hh.b[3][1]++;
    }
    cov_2l8e0ex6hh.s[35]++;
    return webview;
}
module.exports = exports['default'];